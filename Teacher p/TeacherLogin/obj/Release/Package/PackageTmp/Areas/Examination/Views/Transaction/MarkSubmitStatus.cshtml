
@{
    ViewBag.Title = "OnlineClass";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<script src="~/AngularJs/Transaction/MarkSubmitStatus.js"></script>
<div class="hold-transition  layout-navbar-fixed" ng-app="myApp" ng-controller="MarkSubmitStatusController" ng-init="LoadData()">
    <div class="content-wrapper">
        <section class="content">
            <div class="container-fluid1">
                <section class="iframe-content-starts-here" style="padding-top:10px!important">
                    <div class="row">                        
                        <div class="col-sm-5 col-lg-5 col-md-5">
                            <div class="form-group d-flex">
                                <label style="min-width:70px" class="mt-1">Exam Type</label>                               
                                <select class="form-control form-control-sm " style="width:100%" ng-model="newMarkSubmittedStatus.ExamTypeId" ng-change="GetAllMarkSubmittedStatusList()">
                                    <option ng-value="0">-- Select ExamType --</option>
                                    <option ng-value="{{cl.ExamTypeId}}" ng-repeat="cl in ExamTypeList" ng-selected="cl.ExamTypeId==newMarkSubmittedStatus.ExamTypeId">{{cl.Name}}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="card card-primary card-tabs">
                        <div class="card-header with-gradient-bg p-0 pt-2">
                            <ul class="nav nav-tabs" id="custom-tabs-one-tab" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" id="custom-tabs-one-home-tab"
                                       data-toggle="pill" href="#custom-tabs-one-home" role="tab"
                                       aria-controls="custom-tabs-one-home" aria-selected="true" style="padding-left: 3rem;
                                                            padding-right: 3rem;">Completed</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="custom-tabs-one-profile-tab" data-toggle="pill"
                                       href="#custom-tabs-one-profile" role="tab"
                                       aria-controls="custom-tabs-one-profile"
                                       aria-selected="false" style="padding-left: 3rem;
                                                            padding-right: 3rem;">Pending</a>
                                </li>
                            </ul>
                        </div>
                        <div class="card-body p-2">
                            <div class="tab-content" id="custom-tabs-one-tabContent">
                                <!--Completed Tab Starts-->
                                <div class="tab-pane fade show active" id="custom-tabs-one-home"
                                     role="tabpanel" aria-labelledby="custom-tabs-one-home-tab">
                                    <div class="">
                                        <header class="row">
                                            <div class="col-md-7">
                                                <div class="clearfix">
                                                    <form class="form-inline">
                                                        <div class="input-group input-group-sm mr-sm-2">
                                                            <div class="input-group-prepend">
                                                                <span class="input-group-text cstm">Show</span>
                                                            </div>
                                                            <select class="form-control border-left-0 border-right-0 pr-0" ng-model="perPage.MarkSubmittedStatus">
                                                                <option ng-value="pp.value" ng-repeat="pp in perPageColl" ng-selected="pp.value==perPage.MarkSubmittedStatus">{{pp.text}}</option>
                                                            </select>
                                                            <div class="input-group-append">
                                                                <span class="input-group-text bg-white"><small>entries</small></span>
                                                            </div>
                                                        </div>
                                                        <div class="input-group input-group-sm table-search-filed">
                                                            <input class="form-control form-control-navbar"
                                                                   type="search"
                                                                   placeholder="Search"
                                                                   aria-label="Search" ng-model="searchData.MarkSubmittedStatus" />
                                                            <div class="input-group-append">
                                                                <button class="btn btn-default border-left-0"
                                                                        type="submit">
                                                                    <i class="fas fa-search"></i>
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                        </header>
                                        <table id="dt-basic-example"
                                               class="table table-hover table-bordered table-sm bg-white mb-0">
                                            <thead>
                                                <tr>
                                                    <th style="width:90px">S.No.</th>
                                                    <th style="width:200px" ng-click="sortSubmit('ClassName')">Class/Sec.</th>
                                                    <th style="width:250px" ng-click="sortSubmit('SubjectName')">Subject</th>
                                                    <th style="width:130px" ng-click="sortSubmit('SubmitDateTime_AD')">Submitted Date</th>
                                                    <th style="width:150px" ng-click="sortSubmit('UserName')">Submitted By</th>
                                                    <th style="width:150px" ng-click="sortSubmit('ClassTeacher')">Class Teacher</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr dir-paginate="ms in SubmitMarkList  |orderBy:sortKeySubmit:reverseSubmit| filter:searchData.MarkSubmittedStatus | itemsPerPage: perPage.MarkSubmittedStatus" current-page="currentPages.MarkSubmittedStatus" pagination-id="submitPagination">
                                                    <td>{{$index+1}}</td>
                                                    <td>{{ms.ClassName}} {{(ms.SectionName.length>0 ? '-':'')}} {{ms.SectionName}}</td>
                                                    <td>{{ms.SubjectName}}</td>
                                                    <td>{{ms.SubmitDate_BS}} {{ms.SubmitDateTime_AD | timeFormat}}</td>
                                                    <td>{{ms.UserName}}</td>
                                                    <td>{{ms.ClassTeacher}}</td>
                                                </tr>
                                            </tbody>
                                        </table>



                                        <footer class="row align-items-center">
                                            <div class="col-md-12">
                                                <dir-pagination-controls pagination-id="submitPagination" boundary-links="true" on-page-change="pageChangeHandler(newPageNumber)" template-url="/Scripts/dirPagination.tpl.html">
                                                </dir-pagination-controls>
                                            </div>
                                        </footer>
                                    </div>
                                </div>
                                <!--Completed Tab Ends-->
                                <!--Pending Tab Starts-->
                                <div class="tab-pane fade" id="custom-tabs-one-profile" role="tabpanel"
                                     aria-labelledby="custom-tabs-one-profile-tab">
                                    <div class="">
                                        <header class="row">
                                            <div class="col-md-7">
                                                <div class="clearfix">
                                                    <form class="form-inline">
                                                        <div class="input-group input-group-sm mr-sm-2">
                                                            <div class="input-group-prepend">
                                                                <span class="input-group-text cstm">Show</span>
                                                            </div>
                                                            <select class="form-control border-left-0 border-right-0 pr-0" ng-model="perPage.MarkSubmittedStatusPending">
                                                                <option ng-value="pp.value" ng-repeat="pp in perPageColl" ng-selected="pp.value==perPage.MarkSubmittedStatusPending">{{pp.text}}</option>
                                                            </select>
                                                            <div class="input-group-append">
                                                                <span class="input-group-text bg-white"><small>entries</small></span>
                                                            </div>
                                                        </div>
                                                        <div class="input-group input-group-sm table-search-filed">
                                                            <input class="form-control form-control-navbar"
                                                                   type="search"
                                                                   placeholder="Search"
                                                                   aria-label="Search" ng-model="searchData.MarkSubmittedStatusPending" />
                                                            <div class="input-group-append">
                                                                <button class="btn btn-default border-left-0"
                                                                        type="submit">
                                                                    <i class="fas fa-search"></i>
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                            <div class="col-md-5 text-right">
                                                <a class="btn btn-success btn-sm" data-toggle="modal" data-target="#modal-notice"
                                                   style="color:#fff;">
                                                    <i class="fas fa-bell w-t">
                                                    </i>
                                                    Send Notification
                                                </a>
                                            </div>
                                        </header>
                                        <table id="dt-basic-example" class="table table-hover table-bordered table-sm bg-white mb-0">
                                            <thead>
                                                <tr>
                                                    <th style="width:70px">S.No.</th>
                                                    <th style="width:150px" ng-click="sortPending('ClassName')">Class/Sec.</th>
                                                    <th style="width:250px" ng-click="sortPending('SubjectName')">Subject</th>
                                                    <th style="width:200px" ng-click="sortPending('ClassTeacher')">Class Teacher</th>
                                                    <th style="width:200px" ng-click="sortPending('SubjectTeacherName')">Subject Teacher</th>
                                                    <th style="width:200px" ng-click="sortPending('TeacherContactNo')">Contact No.</th>
                                                    <th style="width:150px">Deadline</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr dir-paginate="ms in PendingMarkList |orderBy:sortKeyPending:reversePending | filter:searchData.MarkSubmittedStatusPending | itemsPerPage: perPage.MarkSubmittedStatusPending" current-page="currentPages.MarkSubmittedStatusPending" pagination-id="pendingPagination" ng-style="(new Date(ms.DeadLine_AD) < new Date()) ? {'background-color':'#f97b711a'} : {}">
                                                    <td>{{$index+1}}</td>
                                                    <td>{{ms.ClassName}} {{(ms.SectionName.length>0 ? '-':'')}} {{ms.SectionName}}</td>
                                                    <td>{{ms.SubjectName}}</td>
                                                    <td>{{ms.ClassTeacher}}</td>
                                                    <td>{{ms.SubjectTeacherName}}</td>
                                                    <td>{{ms.TeacherContactNo}}</td>
                                                    <td>{{ms.DeadLine_BS}} <b><span ng-if="ms.DueDays">({{ms.DueDays}})</span></b></td>
                                                </tr>
                                            </tbody>
                                        </table>

                                        <footer class="row align-items-center">
                                            <div class="col-md-12">
                                                <dir-pagination-controls pagination-id="pendingPagination" boundary-links="true" on-page-change="pageChangeHandler(newPageNumber)" template-url="/Scripts/dirPagination.tpl.html">
                                                </dir-pagination-controls>
                                            </div>
                                        </footer>
                                    </div>
                                </div>
                                <!--Pending Tab Ends-->
                            </div>
                        </div>
                        <!-- /.card -->
                    </div>

                    <!-- Notification Modal Starts -->
                    <div class="modal fade" id="modal-notice">
                        <div class="modal-dialog modal-md">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h6 class="modal-title">Send Notification</h6>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <div class="form-group">
                                        <label for="">Title</label>
                                        <input type="text" class="form-control form-control-sm" ng-model="nt.Title" />
                                    </div>
                                    <div class="form-group">
                                        <label>Description</label>
                                        <textarea class="form-control form-control-sm" rows="2" placeholder="" ng-model="nt.Description"></textarea>
                                    </div>
                                </div>
                                <div class="time-label">
                                    <span class="d-block border-0 p-3 text-center">
                                        <button type="button" class="btn btn-sm btn-success" style="min-width: 90px;" ng-click="SendNotificationToTeacher()">Send</button>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Notification Modal Ends -->
                </section>
            </div>



        </section>
        <!-- /.content -->
    </div>

</div>
