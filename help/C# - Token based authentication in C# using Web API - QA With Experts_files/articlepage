function PP(){}function AddNewComment(n){var t=n.id;$.get("/Posts/AddNewComment/"+t,function(n){$("#AddComment").append(n)});toastr.success("Thank you for posting your comment");window.location.reload()}function UpdateReplyComment(n){tinyMCE.EditorManager.execCommand("mceFocus",!1,"EditComment");tinyMCE.EditorManager.execCommand("mceRemoveEditor",!0,"EditComment");$.get("/Posts/GetUpdatedRepliedComment/"+n.Id,function(t){$("#EditAbleAnswerReply[data-id='"+n.Id+"']").html(t)})}function ErrorWhileSaving(){toastr.error("Something went wrong please try again later")}function UpdateComment(n){tinyMCE.EditorManager.execCommand("mceFocus",!1,"EditComment");tinyMCE.EditorManager.execCommand("mceRemoveEditor",!0,"EditComment");$.get("/Posts/UpdatedComment/"+n.Id,function(t){$("#EditAbleAnswer[data-id='"+n.Id+"']").html(t)})}function AddReply(n){tinyMCE.EditorManager.execCommand("mceFocus",!1,"EditComment");tinyMCE.EditorManager.execCommand("mceRemoveEditor",!0,"EditComment");$(".AddingComment[data-id='"+n.PostCommentid+"']").detach();$.get("/Posts/_AddNewComment/"+n.Id,function(t){$(".Comments[data-id='"+n.PostCommentid+"']").append(t);$(".replcomment[data-id='"+commentId+"']").show()})}(function(n,t,i){var r,u=n.getElementsByTagName(t)[0];n.getElementById(i)||(r=n.createElement(t),r.id=i,r.src="//connect.facebook.net/en_US/all.js#xfbml=1&appId=1264701350322882",u.parentNode.insertBefore(r,u))})(document,"script","facebook-jssdk");$(document).ready(function(){function t(n){return/^(([^<>()\[\]\\.,;:\s@@"]+(\.[^<>()\[\]\\.,;:\s@@"]+)*)|(".+"))@@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)}$(".toast-error").hide();$(".toast-error2").hide();$(document).on("click","#CancelUdpate",function(){var n=$(this).attr("data-id");tinyMCE.EditorManager.execCommand("mceFocus",!1,"EditComment");tinyMCE.EditorManager.execCommand("mceRemoveEditor",!0,"EditComment");$.get("/Posts/UpdatedComment/"+n,function(t){$("#EditAbleAnswer[data-id='"+n+"']").html(t)})});$(document).on("click","#CancelReply",function(){var n=$(this).attr("data-id");tinyMCE.EditorManager.execCommand("mceFocus",!1,"EditComment");tinyMCE.EditorManager.execCommand("mceRemoveEditor",!0,"EditComment");$(this).closest(".AddingComment[data-id='"+n+"']").remove();$(".replcomment[data-id='"+n+"']").show()});$(document).on("click","#CancelReplyComment",function(){var n=$(this).attr("data-id");tinyMCE.EditorManager.execCommand("mceFocus",!1,"EditComment");tinyMCE.EditorManager.execCommand("mceRemoveEditor",!0,"EditComment");$.get("/Posts/CancelUpdate/"+n,function(t){$("#EditAbleAnswerReply[data-id='"+n+"']").html(t)})});$(document).on("click",".replcomment",function(){$(this).hide();var n=$(this).attr("data-id"),t=$(this).closest("div#EditAbleAnswer");$.get("/Posts/ReplytoComment/"+n,function(t){$('.Comments[data-id="'+n+'"]').append(t);tinymce.EditorManager.execCommand("mceAddEditor",!1,"EditComment")})});$(document).on("click",".Vote",function(){var i=$("#CurrentLoggedUserid").val();if(i!=0){var r=$(this).hasClass("Vote"),n=$(this).attr("data-id"),t=1;r||(t=0);$.ajax({url:"/Posts/UpDownVote?id="+n,type:"POST",data:{Vote:t},success:function(t){t.Msg=="Vote Updated"?(toastr.success("Your vote has been counted"),$(".Upvotecount_"+n).html(t.Value)):t.Msg=="You cannot Up/Down vote your own question"?toastr.error("You cannot like/dislike  your own comments"):toastr.error(t.Msg)},error:function(n){toastr.error(n)}})}else toastr.info("Please Login to vote")});$(document).on("click",".Report",function(){if($("#CurrentLoggedUserid").val()!="0"){var t=$(this).hasClass("Vote"),n=$(this).attr("data-id");$.ajax({url:"/Posts/UpDownVote?id="+n,type:"POST",data:{Vote:2},success:function(n){n.Msg=="Vote Updated"?toastr.success("Your report has been registered we will review it"):n.Msg=="You cannot Up/Down vote your own question"?toastr.error("You cannot like/dislike  your own comments"):toastr.error(n.Msg)},error:function(n){toastr.error(n)}})}else toastr.info("Please Login to vote")});$(document).on("click",".ReplyVote , .ReplyReport",function(){var i=$("#CurrentLoggedUserid").val();if(i!=0){var r=$(this).hasClass("ReplyUpVote"),t=$(this).attr("data-id"),n=1;$(this).hasClass("ReplyReport")?n=2:r||(n=0);$.ajax({url:"/Posts/UpDownReplyVote?id="+t,type:"POST",data:{Vote:n},success:function(i){i.Msg=="Vote Updated"?n!=2?(toastr.success("Your vote has been counted"),$(".ReplyUpvotecount_"+t).html(i.Value)):toastr.success("Your report has been registered we will review it"):i.Msg=="You cannot Up/Down vote your own question"?toastr.error("You cannot like/dislike  your own comments"):toastr.error(i.Msg)},error:function(n){toastr.error(n)}})}else toastr.info("Please Login to vote")});$(".thumbs").on("click",function(){var i=$("#CurrentLoggedUserid").val();if(i!=0){var r=$(this).hasClass("ThumbsUp"),n=$(this).attr("data-id"),t=1;r||(t=0);$.ajax({url:"/Posts/HelpFulPost?id="+n,type:"POST",data:{Vote:t},success:function(t){t.Msg=="Vote Updated"?(toastr.success("Your vote has been counted"),$(".thumbsValue[data-id='"+n+"']").html(t.Value)):t.Msg=="You cannot Up/Down vote your own question"?toastr.error("You cannot like/dislike  your own question"):toastr.error(t.Msg)},error:function(){toastr.error("Something went wrong, please try again later")}})}else return toastr.info("Please Login to vote"),!1});tinymce.init({selector:"textarea",height:200,theme:"modern",paste_data_images:!0,menubar:!1,plugins:["advlist autolink lists link image   preview hr anchor pagebreak","searchreplace wordcount visualblocks visualchars code fullscreen"," media nonbreaking save table contextmenu directionality"," template paste textcolor colorpicker textpattern imagetools codesample toc"],toolbar1:"undo redo  | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image",toolbar2:" codesample",image_advtab:!0,file_picker_callback:function(n,t,i){if(i.filetype=="image"){$("#upload").trigger("click");$("#upload").on("change",function(){for(var e=this.files[0],i=this.files,u,f=new FormData,r,t=0;t<i.length;t++)f.append(i[t].name,i[t]);r=new FileReader;$.ajax({url:"/posts/ImageUpload",type:"POST",contentType:!1,processData:!1,data:f,dataType:"json",success:function(t){u=t.SAvedUrl;r.onload=function(){setTimeout(function(){n(u,{alt:""})},200)};r.readAsDataURL(e)},error:function(){}})})}},content_css:["//fonts.googleapis.com/css?family=Lato:300,300i,400,400i","//www.tinymce.com/css/codepen.min.css"],setup:function(t){t.on("change",function(){tinyMCE.triggerSave();var i=tinymce.get("PostComment1").getBody(),r=tinymce.trim(i.innerText||i.textContent);r.length<10?n.showErrors({PostComment1:"Enter atleast 10 characters long comment"}):$("#"+t.id).valid()})}});$(document).on("focusout","#GuestEmail",function(){var n=$(this).val();n!=null&&n!=""&&(t(n)?$.ajax({url:"https://api.email-validator.net/api/verify",type:"POST",cache:!1,crossDomain:!0,data:{EmailAddress:n,APIKey:"ev-0f3b667d30ee25adb5d0a6627f7f5c88"},dataType:"json",success:function(t){if(typeof t.status!="undefined"){var i=t.status;info=typeof t.info!="undefined"?t.info:"";details=typeof t.details!="undefined"?t.details:"";i!=200&&i!=207&&i!=215?i==118||i==114?(toastr.error("Wait for few mins and try again later"),$("#Submit").attr("disabled","disabled")):(toastr.error("Email Id is not valid, enter a valid email id"),$("#Submit").attr("disabled","disabled")):$.ajax({url:"/Account/doesEmailExist",type:"POST",data:{Email:n},success:function(n){n.toString()!="true"?(toastr.error("Email id already exists, please login"),$("#Submit").attr("disabled","disabled")):$("#Submit").removeAttr("disabled")}})}}}):(toastr.error("Enter a valid email id"),$("#Submit").attr("disabled","disabled")))});var n=$("#SavePostComment").validate({ignore:"",rules:{GuestName:"required",GuestEmail:"required",PostComment1:{required:!0,minlength:10}},errorPlacement:function(n,t){t.is("textarea")?n.insertAfter(t.next()):n.insertAfter(t)}});$("#Submit").on("click",function(){if(tinyMCE.triggerSave(),n.valid()){var t=$("#CurrentLoggedUserid").val();t==0&&$("#SavePostComment").attr("action","/posts/SaveGuestAnswer");$(".toast-error").hide();$(".toast-error2").hide()}});n.focusInvalid=function(){if(this.settings.focusInvalid)try{var n=$(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]);n.is("textarea")?tinyMCE.get(n.attr("id")).focus():n.filter(":visible").focus()}catch(t){}};$(".posts").on("click",function(){var n=$(this).attr("data-href");window.location.href=n});$(document).on("click",".editiconReply",function(){var t=$(this).closest("div"),n=$(this).attr("data-id");$.get("/Posts/EditPostCommentReply/"+n,function(t){$("#EditAbleAnswerReply[data-id='"+n+"']").html(t);tinymce.EditorManager.execCommand("mceAddEditor",!1,"EditComment")});$(this).hide()});$(document).on("click",".editicon",function(){var t=$(this).closest("div"),n=$(this).attr("data-id");$.get("/Posts/EditPostComment/"+n,function(t){$("#EditAbleAnswer[data-id='"+n+"']").html(t);tinymce.EditorManager.execCommand("mceAddEditor",!1,"EditComment")});$(this).hide()});$(document).on("click",".DeleteComment",function(){var n=$(this).attr("data-type"),t="",i,r,u;if(t=n=="MainComment"?" Are you sure, do you want to delete?(All of it's sub-comment's will also be deleted )":" Are you sure, do you want to delete?",i=confirm(t),i==!0)if(r=$("#CurrentUserid").val(),r!=0)u=$(this).attr("data-id"),$.ajax({url:"/Posts/DeleteComment?id="+u,type:"POST",data:{type:n},success:function(n){n.Msg=="Success"?(toastr.success("Comment has been deleted"),location.reload()):toastr.error(n.Msg)},error:function(n){toastr.error(n)}});else return toastr.info("Please login/register to report"),!1;else return!1})})