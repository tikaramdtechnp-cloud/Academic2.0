
@{
    ViewBag.Title = "ExamReport";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<script src="~/Jslib/Creation/ExamReport.js"></script>
<link href="~/StudentLoginFiles/dynamic/css/quick-access-responsive.css" rel="stylesheet" />
<link href="~/StudentLoginFiles/dynamic/css/quickaccess.0.css" rel="stylesheet" />
<div class="hold-transition  layout-navbar-fixed" ng-app="myApp" ng-controller="ExamReportController" ng-init="LoadData()">
    <div class="content-wrapper">

        <!-- Main content -->
        <section class="content">
            <div class="container-fluid">
                <section class="iframe-content-starts-here">
                    <div class="tab-content" id="pills-tabContent">

                        <div class="tab-pane fade show active" id="pills-second" role="tabpanel"
                             aria-labelledby="pills-second-tab">
                            <!-- if-page-have-nav-tabs -->
                            <header class="if-page-have-nav-tabs">
                                <div class="row upper-tab">
                                    <div class="col-md-12">
                                        <!-- <h3 class="menu-title">Class Setup</h3> -->
                                        <ul class="nav nav-tabs cstm-nav-tabs-border-bottom-active" id="myTab"
                                            role="tablist">
                                            <li class="nav-item" role="presentation">
                                                <a class="nav-link active" id="pills-four-tab" data-toggle="tab"
                                                   href="#pills-four" role="tab" aria-controls="pills-four"
                                                   aria-selected="true">Marks Obtained</a>
                                            </li>
                                            <li class="nav-item" role="presentation">
                                                <a class="nav-link" id="profile-tab" data-toggle="tab"
                                                   href="#profile" role="tab" aria-controls="profile"
                                                   aria-selected="false">Exam Evaluation</a>
                                            </li>

                                        </ul>
                                    </div>

                                </div>
                            </header>
                            <!-- end if-page-have-nav-tabs -->
                            <div class="tab-content" id="myTabContent">
                                <div class="tab-pane fade show active" id="pills-four" role="tabpanel" aria-labelledby="pills-four-tab">
                                    <div class="card card-primary card-tabs" style="margin-top: -30px;">
                                        <div class="card-header with-gradient-bg p-0 pt-2">
                                            <ul class="nav nav-tabs" id="custom-tabs-one-tab" role="tablist">
                                                <li class="nav-item">
                                                    <a class="nav-link active" id="custom-tabs-one-home-tab"
                                                       data-toggle="pill" href="#custom-tabs-one-home" role="tab"
                                                       aria-controls="custom-tabs-one-home" aria-selected="true" style="padding-left: 3rem;
                                                            padding-right: 3rem;">Marking</a>
                                                </li>
                                                <li class="nav-item">
                                                    <a class="nav-link" id="custom-tabs-one-profile-tab" data-toggle="pill"
                                                       href="#custom-tabs-one-profile" role="tab"
                                                       aria-controls="custom-tabs-one-profile"
                                                       aria-selected="false" style="padding-left: 3rem;
                                                            padding-right: 3rem;">Grading</a>
                                                </li>

                                            </ul>
                                        </div>
                                        <div class="card-body">
                                            <div class="tab-content" id="custom-tabs-one-tabContent">
                                                <div class="tab-pane fade show active" id="custom-tabs-one-home"
                                                     role="tabpanel" aria-labelledby="custom-tabs-one-home-tab">


                                                    <div class="card">
                                                        <div class="row mt-1">
                                                            <div class="col-sm-4 col-lg-4 col-md-4">
                                                                <label>Exam Type</label>
                                                                <div class="form-group">
                                                                    <select class="form-control form-control-sm " ng-change="ngChangeExamMarking()" style="width:100%" ng-model="ExamType.examTypeId">
                                                                        <option>-- Select ExamType --</option>
                                                                        <option value="{{cl.ExamTypeId}}" ng-repeat="cl in ExamTypeColl" ng-selected="cl.ExamTypeId==ExamType.examTypeId">{{cl.Name}}</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-8 col-md-8 col-lg-8 mt-4">
                                                                <div class="pb-0 float-right">
                                                                    <button class="btn btn-sm btn-secondary " ng-click="PrintMarkSheet()" style="min-width: 180px;">View Marksheet</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="" >
                                                            <table id="main-table" class="main-table table table-sm table-bordered bg-white ">
                                                                <thead class="text-center text-nowrap">
                                                                    <tr>
                                                                        <th rowspan="2" class="text-center align-middle cstm-sticky" >S.No.</th>
                                                                        <th rowspan="2" class="text-center align-middle cstm-sticky" >Subject Name</th>

                                                                        <th colspan="2" scope="colgroup" class="text-center" >Full Marks</th>
                                                                        <th colspan="2" scope="colgroup" class="text-center" >Pass Marks</th>
                                                                        <th colspan="3" scope="colgroup" class="text-center" >Obtained Marks</th>
                                                                        <th rowspan="2" class="text-center align-middle cstm-sticky" >Remarks</th>

                                                                    </tr>
                                                                    <tr class="text-center">
                                                                        <th scope="col" class="cstm-sticky" >TH</th>
                                                                        <th scope="col" class="cstm-sticky" >PR</th>
                                                                        <th scope="col" class="cstm-sticky" >TH</th>
                                                                        <th scope="col" class="cstm-sticky" >PR</th>

                                                                        <th scope="col" class="cstm-sticky" >TH</th>
                                                                        <th scope="col" class="cstm-sticky" >PR</th>
                                                                        <th scope="col" class="cstm-sticky" >Total</th>

                                                                    </tr>
                                                                </thead>
                                                                <tbody class="text-nowrap text-center ">
                                                                    <tr ng-show="StatusLoading==true" ng-repeat="cl in ObtainMarkMarking.DataColl.DetailsColl" @*dir-paginate="cl in ObtainMark.DataColl.DetailsColl | filter:searchData.Marking | itemsPerPage: perPage.Marking" current-page="currentPages.Marking"*@ @*pagination-id="MarkingPagination"*@>
                                                                        <td class="align-middle">{{$index+1}}</td>
                                                                        <td class="align-middle" style="text-align:left; padding-left: 4px !important;">{{cl.SubjectName}} </td>
                                                                        <td class="align-middle"><C ng-hide="cl.FMTH==0">{{cl.FMTH}}</C>  </td>
                                                                        <td class="align-middle"> <C ng-hide="cl.FMPR==0"> {{cl.FMPR}}</C> </td>
                                                                        <td class="align-middle"><C ng-hide="cl.PMTH==0">{{cl.PMTH}}</C> </td>
                                                                        <td class="align-middle"><C ng-hide="cl.PMPR==0">{{cl.PMPR}}</C> </td>
                                                                        <td class="align-middle"><C ng-hide="cl.ObtainMarkTH_Str==0">{{cl.ObtainMarkTH_Str}}</C> </td>
                                                                        <td class="align-middle"><C ng-hide="cl.ObtainMarkPR_Str==0">{{cl.ObtainMarkPR_Str}}</C> </td>
                                                                        <td class="align-middle"><C ng-hide="cl.ObtainMark==0">{{cl.ObtainMark}}</C> </td>
                                                                        <td class="align-middle"><C ng-hide="cl.SubjectRemarks==0">{{cl.SubjectRemarks}}</C> </td>
                                                                    </tr>
                                                                    <tr ng-hide="StatusLoading==true"><td colspan="20"><div>{{ObtainMarkMarkingLoading}}</div></td></tr>
                                                                </tbody>
                                                            </table>
                                                            <!-- table end -->
                                                        </div>


                                                        <div class="row">
                                                            <div class="col-md-3">
                                                                <label for="">Full Marks:{{ObtainMarkMarking.DataColl.FM}} </label>
                                                            </div>
                                                            <div class="col-md-3">
                                                                <label for="">Pass Marks:{{ObtainMarkMarking.DataColl.PM}} </label>
                                                            </div>
                                                            <div class="col-md-3">
                                                                <label for="">
                                                                    Total Obtained Marks:{{ObtainMarkMarking.DataColl.ObtainMark}}
                                                                </label>
                                                            </div>
                                                            <div class="col-md-3">
                                                                <label for="">Division:{{ObtainMarkMarking.DataColl.Division}} </label>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            
                                                            <div class="col-md-3"><label for="">Percentage:{{ObtainMarkMarking.DataColl.Per}} </label></div>
                                                            <div class="col-md-3">
                                                                <label for="">
                                                                    Result:{{ObtainMarkMarking.DataColl.Result}}
                                                                </label>
                                                            </div>
                                                            <div class="col-md-3">
                                                                <label for="">
                                                                    R.S.:{{ObtainMarkMarking.DataColl.RankInSection}}
                                                                </label>
                                                            </div>
                                                            <div class="col-md-3">
                                                                <label for="">
                                                                    R.C.:{{ObtainMarkMarking.DataColl.RankInClass}}
                                                                </label>
                                                            </div>
                                                        </div>

                                                    </div>

                                                </div>
                                                <div class="tab-pane fade" id="custom-tabs-one-profile" role="tabpanel"
                                                     aria-labelledby="custom-tabs-one-profile-tab">
                                                    <div class="card">
                                                        <div class="row mt-1">
                                                            <div class="col-sm-4 col-lg-4 col-md-4">
                                                                <label>Exam Type</label>
                                                                <div class="form-group">
                                                                    <select class="form-control form-control-sm " ng-change="ngChangeExamGrading()" style="width:100%" ng-model="ExamType.ExamTypeId">
                                                                        <option>-- Select ExamType --</option>
                                                                        <option value="{{cl.ExamTypeId}}" ng-repeat="cl in ExamTypeColl" ng-selected="cl.ExamTypeId==ExamType.ExamTypeId">{{cl.Name}}</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-8 col-md-8 col-lg-8 ">
                                                                <div class="pb-0 float-right">

                                                                    <button class="btn btn-sm btn-secondary " ng-click="PrintMarkSheet()" style="min-width: 180px;">  View Marksheet</button>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class=" "  >
                                                            <table id="main-table" class="main-table table table-sm table-bordered bg-white ">
                                                                <thead class="text-center text-nowrap">
                                                                    <tr>
                                                                        <th rowspan="2" class="text-center align-middle cstm-sticky" style="width: 50px;">S.No.</th>
                                                                        <th rowspan="2" class="text-center align-middle cstm-sticky" style="width: 100px;">Subject Name</th>
                                                                        <th rowspan="2" class="text-center align-middle cstm-sticky" style="width: 80px;">Credit Hour</th>

                                                                        <th colspan="3" scope="colgroup" class="text-center" style="width: 200px">Obtained Grade</th>
                                                                        <th colspan="3" scope="colgroup" class="text-center" style="width: 200px">Obtained Grade Point</th>
                                                                        <th rowspan="2" class="text-center align-middle cstm-sticky" style="width: 180px;">Remarks</th>

                                                                    </tr>
                                                                    <tr class="text-center">

                                                                        <th scope="col" class="cstm-sticky" style="top: 35px">TH</th>
                                                                        <th scope="col" class="cstm-sticky" style="top: 35px">PR</th>
                                                                        <th scope="col" class="cstm-sticky" style="top: 35px">Final Grade</th>
                                                                        <th scope="col" class="cstm-sticky" style="top: 35px">TH</th>
                                                                        <th scope="col" class="cstm-sticky" style="top: 35px">PR</th>
                                                                        <th scope="col" class="cstm-sticky" style="top: 35px">Final Grade Point</th>

                                                                    </tr>
                                                                </thead>
                                                                <tbody class="text-nowrap text-center">
                                                                    <tr ng-show="StatusLoading1==true" ng-repeat="cl in ObtainMarkGrading.DataColl.DetailsColl" @*dir-paginate="cl in ObtainMark.DataColl.DetailsColl | filter:searchData.Grading | itemsPerPage: perPage.Grading" current-page="currentPages.Grading"*@>
                                                                        <td class="align-middle">{{$index+1}}</td>
                                                                        <td class="align-middle" style="text-align:left; padding-left: 4px !important;">{{cl.SubjectName}} </td>

                                                                        <td class="align-middle"><C ng-hide="cl.CR==0">{{cl.CR}} </C></td>
                                                                        <td class="align-middle"><C ng-hide="cl.GradeTH==0">{{cl.GradeTH}}</C> </td>
                                                                        <td class="align-middle"><C ng-hide="cl.GradePR==0">{{cl.GradePR}}</C> </td>
                                                                        <td class="align-middle"><C ng-hide="cl.Grade==0">{{cl.Grade}}</C> </td>
                                                                        <td class="align-middle"><C ng-hide="cl.GP==0">{{cl.GP}}</C> </td>
                                                                        <td class="align-middle"><C ng-hide="cl.GP_TH==0">{{cl.GP_TH}}</C> </td>
                                                                        <td class="align-middle"><C ng-hide="cl.GP_PR==0">{{cl.GP_PR}} </C></td>
                                                                        <td class="align-middle"><C ng-hide="cl.SubjectRemarks==0">{{cl.SubjectRemarks}}</C> </td>

                                                                    </tr>
                                                                    <tr ng-hide="StatusLoading1==true"><td colspan="20"><div>{{ObtainMarkGradingLoading}}</div></td></tr>
                                                                </tbody>
                                                            </table>
                                                            <!-- table end -->
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-2">
                                                                <label for="">Final Grade :{{ObtainMarkGrading.DataColl.GP_Grade}}  </label>
                                                            </div>
                                                            <div class="col-md-1">
                                                                <label for="">GPA :{{ObtainMarkGrading.DataColl.GPA}} </label>
                                                            </div>

                                                        </div>

                                                    </div>
                                                </div>

                                            </div>
                                            <iframe id="frmMarkSheet" style='width: 100%;height:calc(100vh - 200px);background-color: white;visibility: visible;' frameborder='0' scrolling='yes'></iframe>
                                        </div>
                                        <!-- /.card -->
                                    </div>
                                </div>


                                <div class="tab-pane fade main-section" id="profile" role="tabpanel"
                                     aria-labelledby="profile-tab">
                                    <div class="exam-area" id="exam-area">

                                        @*<div class="exam-heading">
                                                <h4>Exam</h4>
                                            </div>*@
                                        <div class="exam-content">
                                            <div class="exam-top d-flex">
                                                <h3>
                                                    Average Percentage :
                                                    <span style="color: #76be4e">60%</span>
                                                </h3>
                                                <div class="col-md-5 text-right ml-auto pr-3">
                                                    <div class="dropdown dnld-file"
                                                         data-toggle="tooltip"
                                                         data-placement="top"
                                                         title="Download File">
                                                        <button class="btn btn-secondary btn-light btn-sm dropdown-toggle"
                                                                type="button"
                                                                id="dropdownMenuButton"
                                                                data-toggle="dropdown"
                                                                aria-haspopup="true"
                                                                aria-expanded="false">
                                                            <i class="fas fa-download"></i>
                                                        </button>
                                                        <div class="dropdown-menu dropdown-menu-right"
                                                             aria-labelledby="dropdownMenuButton">
                                                            <span class="dropdown-item">Choose an option:</span>
                                                            <a class="dropdown-item" href="#">
                                                                <img src="./dynamic/images/flaticons/excel.png"
                                                                     class="img-fluid exports-icon"
                                                                     alt="Excel image" />
                                                                Excel
                                                            </a>
                                                            <a class="dropdown-item" href="#">
                                                                <img src="./dynamic/images/flaticons/csv.png"
                                                                     class="img-fluid exports-icon"
                                                                     alt="Excel image" />
                                                                CSV
                                                            </a>
                                                            <a class="dropdown-item" href="#">
                                                                <img src="./dynamic/images/flaticons/pdf.png"
                                                                     class="img-fluid exports-icon"
                                                                     alt="Excel image" />
                                                                PDF
                                                            </a>
                                                            <a class="dropdown-item" href="#">
                                                                <img src="./dynamic/images/flaticons/word.png"
                                                                     class="img-fluid exports-icon"
                                                                     alt="Excel image" />
                                                                Word
                                                            </a>
                                                            <a class="dropdown-item" href="#">
                                                                <img src="./dynamic/images/flaticons/gmail.png"
                                                                     class="img-fluid exports-icon"
                                                                     alt="Excel image" />
                                                                Mail
                                                            </a>
                                                        </div>
                                                    </div>
                                                    <a href="#"
                                                       class="btn btn-secondary btn-light btn-sm"
                                                       data-toggle="tooltip"
                                                       data-placement="bottom"
                                                       title="Print">
                                                        <i class="fas fa-print"></i>
                                                    </a>
                                                </div>
                                            </div>
                                            <hr />

                                            <!-- result evaluation section -->

                                            <div class="result-evaluation-section" id="result-evaluation-section">
                                                <div class="result-evaluation d-flex">
                                                    <h3>Result Evaluation :</h3>

                                                    <div class="exam-btns d-flex ml-auto pr-3">
                                                        <a class="btn btn-sm active-page result-section">Result Evaluation</a>
                                                        <a class="btn btn-sm subject-section">Subject Evaluation</a>
                                                    </div>
                                                </div>

                                                <div class="result-evaluation-graph">
                                                    <div class="btns-group-test d-flex">
                                                        <button class="btn btn-sm btn-unit active-page">
                                                            Unit test
                                                        </button>
                                                        <button class="btn btn-sm btn-monthly">
                                                            Monthly test
                                                        </button>
                                                        <button class="btn btn-sm btn-terminal">
                                                            Terminal test
                                                        </button>
                                                    </div>

                                                    <div>
                                                        <canvas id="myChart"></canvas>
                                                    </div>

                                                    <hr />
                                                    <div class="marks-comparision">
                                                        <h4 class="mt-0">Comparision:</h4>
                                                        <div class="row mt-4 compare-row">
                                                            <div class="column-marks-1 col-lg-2 col-md-3 col-sm-3">
                                                                <p>1st Unit Test</p>
                                                                <p>2nd Unit Test</p>
                                                                <p>3rd Unit Test</p>
                                                                <p>4th Unit Test</p>
                                                            </div>
                                                            <div class="column-marks-2 col-lg-2 col-md-3 col-sm-3">
                                                                <p>49%</p>
                                                                <p>61%</p>
                                                                <p>72%</p>
                                                                <p>83%</p>
                                                            </div>
                                                            <div class="column-marks-3 col-lg-2 col-md-3 col-sm-3">
                                                                <p>...</p>
                                                                <p><i class="fas fa-sort-up"></i>&nbsp; 26%</p>
                                                                <p>
                                                                    <i class="fas fa-sort-up"></i>&nbsp; 21.0%
                                                                </p>
                                                                <p>
                                                                    <i class="fas fa-sort-up"></i> &nbsp;19.0%
                                                                </p>
                                                            </div>

                                                            <div class="column-marks-4 col-lg-2 col-md-3 col-sm-3">
                                                                <div class="comparision-btns">
                                                                    <button class="btn btn-sm btn-view">
                                                                        View Marksheet
                                                                    </button>
                                                                    <button class="btn btn-sm btn-view">
                                                                        View Marksheet
                                                                    </button>
                                                                    <button class="btn btn-sm btn-view">
                                                                        View Marksheet
                                                                    </button>
                                                                    <button class="btn btn-sm btn-view">
                                                                        View Marksheet
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- result evaluation section end -->
                                            <!-- subject evaluation section -->
                                            <div class="subject-evaluation-section" id="subject-evaluation-section">
                                                <div class="result-evaluation d-flex">
                                                    <h3>Subject Evaluation :</h3>

                                                    <div class="exam-btns d-flex ml-auto pr-3">
                                                        <a class="btn btn-sm result-section" id="result-section">Result Evaluation</a>
                                                        <a class="btn btn-sm subject-section" id="subject-section">Subject Evaluation</a>
                                                    </div>
                                                </div>

                                                <div class="subject-evaluation-graph">
                                                    <div class="btns-group-subject d-flex flex-wrap">
                                                        <button class="btn btn-sm active-page">Math</button>
                                                        <button class="btn btn-sm">Social studies</button>
                                                        <button class="btn btn-sm">Science</button>
                                                        <button class="btn btn-sm">Optional Math</button>
                                                        <button class="btn btn-sm">English</button>
                                                        <button class="btn btn-sm">Computer Science</button>
                                                        <button class="btn btn-sm">Nepali</button>
                                                    </div>

                                                    <canvas id="subjectChart"></canvas>

                                                    <hr />
                                                    <div class="marks-comparision">
                                                        <h4 class="mt-0">Comparision:</h4>
                                                        <div class="row mt-4 compare-row">
                                                            <div class="column-marks-1 col-lg-2 col-md-3 col-sm-3">
                                                                <p>1st Unit Test</p>
                                                                <p>2nd Unit Test</p>
                                                                <p>3rd Unit Test</p>
                                                                <p>4th Unit Test</p>
                                                            </div>
                                                            <div class="column-marks-2 col-lg-2 col-md-3 col-sm-3">
                                                                <p>49%</p>
                                                                <p>61%</p>
                                                                <p>72%</p>
                                                                <p>83%</p>
                                                            </div>
                                                            <div class="column-marks-3 col-lg-2 col-md-3 col-sm-3">
                                                                <p>...</p>
                                                                <p><i class="fas fa-sort-up"></i>&nbsp; 26%</p>
                                                                <p>
                                                                    <i class="fas fa-sort-up"></i>&nbsp; 21.0%
                                                                </p>
                                                                <p>
                                                                    <i class="fas fa-sort-up"></i> &nbsp;19.0%
                                                                </p>
                                                            </div>

                                                            <div class="column-marks-4 col-lg-2 col-md-3 col-sm-3">
                                                                <div class="comparision-btns">
                                                                    <button class="btn btn-sm btn-view">
                                                                        View Marksheet
                                                                    </button>
                                                                    <button class="btn btn-sm btn-view">
                                                                        View Marksheet
                                                                    </button>
                                                                    <button class="btn btn-sm btn-view">
                                                                        View Marksheet
                                                                    </button>
                                                                    <button class="btn btn-sm btn-view">
                                                                        View Marksheet
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- subject evaluation section closed -->
                                        </div>

                                    </div>

                                </div>

                            </div>
                        </div>


                    </div>
                </section>
                <!-- /.row -->

            </div>
            <!--/. container-fluid -->
        </section>
        <!-- /.content -->
    </div>
</div>



<style>
</style>