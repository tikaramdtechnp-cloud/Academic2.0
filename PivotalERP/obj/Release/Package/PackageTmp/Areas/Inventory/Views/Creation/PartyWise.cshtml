<script src="~/jslib/inventory/creation/PartyWiseProductRate.js?v=20251012"></script>
<div class="container-fluid">
        <section class="iframe-content-starts-here" style="padding-top: 45px !important;">

            <div class="card p-2">
                <div class="row">

                    <div class="col-md-10">
                        <div class="form-group">
                            <label> Party Name</label>
                            <select autoShowHide="true" class="select2 serial form-control form-control-sm" all-ledger ng-model="newPartywiseChargeSetup.PartyLedgerId" style="width:95%" ledgertype="13" fortransaction="true"
                                    placeholder="** Select Party Name **" showdetails="true" confirm-action="PartySelectionChange(newPartywiseChargeSetup)" ledger-detail="newPartywiseChargeSetup.PartyLedger" side-bar-data="newPartywiseChargeSetup.partySideBarData"></select>

                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="form-group">
                            <label for="">Applicable From</label>
                            <input type="text" class="form-control form-control-sm" ng-model="newPartywiseChargeSetup.ApplicableFrom_TMP" date-picker date-detail="newPartywiseChargeSetup.ApplicableFromDet">
                        </div>
                    </div>
                </div>

                <div class="table-responsive" style="max-height: 450px;">
                    <table id="main-table1" class="main-table table table-head-fixed table-sm table-bordered mb-0 bg-white">
                        <thead class=" text-nowrap">
                            <tr>
                                <th style="width: 80px;">S.No</th>
                                <th style="width: 200px;">Product Name</th>
                                <th style="width: 100px;">Product Code</th>
                                <th style="width: 80px;">Per</th>
                                <th style="width: 100px;">Purchase </th>
                                <th style="width: 100px;">Sell </th>
                                <th style="width: 100px;">Action </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="itemDet in PartywiseChargeSetupList">
                                <td align="center">{{$index+1}}</td>
                                <td>
                                    <select autoShowHide="true" class="form-control form-control-sm select2 serial" all-product ng-model="itemDet.ProductId" style="width:100%"
                                            placeholder="** Select Product  **" showdetails="true" confirm-action="ProductSelectionChange(itemDet,$index)" product-detail="itemDet.productDetail" side-bar-data="itemDet.sideBarData"></select>

                                </td>
                                <td>{{itemDet.productDetail.Code}}</td>
                                <td>{{itemDet.productDetail.BaseUnit}}</td>
                                <td>
                                    <input type="text" number-input class="form-control form-control-sm" ng-model="itemDet.PurchaseRate">
                                </td>
                                <td>
                                    <input type="text" number-input class="form-control form-control-sm" ng-model="itemDet.SellRate">
                                </td>
                                <td>
                                    <a class="p-1" href="#" data-original-title="Add Row" ng-click="AddRow($index)">
                                        <i class="fas fa-plus text-info"></i>
                                    </a>
                                    <a class="p-1" href="#" data-original-title="Delete Row." ng-click="delRow($index)">
                                        <i class="fas fa-trash-alt text-danger"></i>
                                    </a>

                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <footer class="mt-2">
                    <div class="time-label">
                        <span class="d-block border-0 p-3 text-center">

                            <button type="button" class="btn btn-sm btn-default" style="min-width: 90px;" ng-click="ClearPartyWise()">Reset</button>
                            <button type="button" class="btn btn-sm btn-success" style="min-width: 90px;" ng-click="SaveUpdatePartywiseChargeSetup()">Save</button>

                        </span>
                    </div>
                </footer>

            </div>
        </section>
        <!-- /.container-fluid -->
    </div>
