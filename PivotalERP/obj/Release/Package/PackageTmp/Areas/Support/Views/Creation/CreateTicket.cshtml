<style>
    .btn-add-file {
        padding: 35px 35px;
        border: 2px dotted green;
    }

    .fa-plus-circle {
        color: #28a745;
        font-size: 20px;
    }

    .dz-image img {
        width: 130px;
        height: 130px;
    }
    .ticketssuccessbg {
        background-color: #28a7456b;
    }
</style>
<link rel="stylesheet" href="/wwwroot/dynamic/css/dropzone.css" />
<script src="/wwwroot/dynamic/js/dropzone.js"></script>
<script src="~/jslib/Support/CreateTicket.js?v=20251115"></script>
<div class="hold-transition  layout-navbar-fixed" ng-app="myApp" ng-controller="TicketController" ng-init="LoadData()">
    <section class="content">
        <div class="container-fluid">
            <section class="iframe-content-starts-here">
                <!-- form area starts -->
                <div id="ticket-form">
                    <div>
                        <div class="card">
                            <div class="card-body p-2">
                                <div class="row">
                                    <div class="col-md-3" id="meet-others">
                                        <div class="form-group">
                                            <label for="">Ticket For</label>
                                            <select class="form-control form-control-sm select2" ng-model="newTicket.RequirementTypeId">
                                                <option ng-repeat="C in RequirementColl" ng-value="C.id" ng-selected="newTicket.RequirementTypeId==C.id">{{C.text}}</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label>Heading<span style="color:red">*</span></label>
                                            <input type="text" class="form-control form-control-sm" placeholder="Heading Or Topic" ng-model="newTicket.RequirementProblem"></input>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label>Description<span style="color:red">*</span></label>
                                            <textarea class="form-control form-control-sm" rows="6" placeholder="Place Some Text Here" ng-model="newTicket.Description"></textarea>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <label><b>Attach File</b></label>
                                        <input id="flTicket" type="file" multiple file-model-resize ng-model="newTicket.Ticket_Files_TMP" fileread="newTicket.Ticket_Files_Data" accept="image/png, image/gif, image/jpeg, image/jpg" />

                                    </div>
                                </div>
                                <div class="time-label">
                                    <span class="d-block border-0 p-3 text-center">
                                        <button type="button"
                                                class="btn btn-sm btn-info"
                                                id="back-to-list"
                                                style="min-width: 90px">
                                            Back to List
                                        </button>
                                        <button type="button" class="btn btn-sm btn-default" style="min-width: 90px;" ng-click="ClearTicket()">Reset</button>
                                        <button type="button" class="btn btn-sm btn-success" style="min-width: 90px;" ng-click="SaveUpdateTicket()">{{newTicket.Mode}}</button>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tab-content" id="table-listing" style="margin-top: -10px;">
                    <div class="e-library" id="e-library">
                        <div class="card">
                            <div class="row">
                                <div class="col-md-10">
                                    <ul class="nav nav-pills feebackstat ml-2" id="pills-tab" role="tablist">
                                        <li class="nav-item mt-2">
                                            <a class="btntab feedbackbg active" id="pills-total-tab" data-toggle="pill" href="#pills-total" role="tab" aria-controls="pills-total" aria-selected="true">Total Tickets :{{TickSumm.Total}} </a>
                                        </li>
                                        <li class="nav-item mt-2 ml-2">
                                            <a class="btntab openticketsbg" id="pills-return-tab" data-toggle="pill" href="#pills-return" role="tab" aria-controls="pills-return" aria-selected="true">Open Tickets :{{TickSumm.Open}} </a>
                                        </li>
                                        <li class="nav-item mt-2 ml-2">
                                            <a class="btntab ticketsinfobg" id="pills-inprogress-tab" data-toggle="pill" href="#pills-inprogress" role="tab" aria-controls="pills-inprogress" aria-selected="false">In Progress Tickets : {{TickSumm.InProgress}}</a>
                                        </li>
                                        <li class="nav-item mt-2 ml-2">
                                            <a class="btntab inprogressbg" id="pills-yetto-tab" data-toggle="pill" href="#pills-yetto" role="tab" aria-controls="pills-yetto" aria-selected="false">Hold Tickets : {{TickSumm.Hold}}</a>
                                        </li>
                                        <li class="nav-item mt-2 ml-2">
                                            <a class="btntab mt-2 closebg" id="pills-completed-tab" data-toggle="pill" href="#pills-completed" role="tab" aria-controls="pills-completed" aria-selected="false">Completed Tickets : {{TickSumm.Completed}}</a>
                                        </li>
                                        <li class="nav-item mt-2 ml-2">
                                            <a class="btntab mt-2 ticketssuccessbg" id="pills-lost-tab" data-toggle="pill" href="#pills-lost" role="tab" aria-controls="pills-lost" aria-selected="false">Closed Tickets : {{TickSumm.Closed}}</a>
                                        </li>

                                    </ul>
                                </div>
                                <div class="col-md-2">
                                    <button type="button"
                                            class="btn btn-sm btn-success float-right"
                                            id="open-form-btn"
                                            style="min-width: 90px">
                                        <i class="fas fa-plus w-t"></i> Create Ticket
                                    </button>
                                </div>
                            </div>

                            <div class="tab-content p-2" id="pills-tabContent">
                                <div class="tab-pane fade active show" id="pills-total" role="tabpanel" aria-labelledby="pills-total-tab">
                                    <header class="row">
                                        <div class="col-md-7">
                                            <div class="clearfix">
                                                <form class="form-inline mb-2">
                                                    <div class="input-group input-group-sm mr-sm-2">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text cstm">Show</span>
                                                        </div>
                                                        <select class="form-control border-left-0 border-right-0 pr-0" ng-model="perPage.Ticket">
                                                            <option ng-value="pp.value" ng-repeat="pp in perPageColl" ng-selected="pp.value==perPage.Ticket">{{pp.text}}</option>
                                                        </select>
                                                        <div class="input-group-append">
                                                            <span class="input-group-text bg-white"><small>entries</small></span>
                                                        </div>
                                                    </div>
                                                    <div class="input-group input-group-sm table-search-filed">
                                                        <input class="form-control form-control-navbar"
                                                               type="search" placeholder="Search"
                                                               aria-label="Search" ng-model="searchData.Ticket">
                                                        <div class="input-group-append">
                                                            <button class="btn btn-default border-left-0"
                                                                    type="submit">
                                                                <i class="fas fa-search"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                        <!-- end col-md-8 -->
                                        <div class="col-md-5 text-right">
                                            <div class="dropdown dnld-file"
                                                 data-toggle="tooltip"
                                                 data-placement="top"
                                                 title="Download File">
                                                <button class="btn btn-secondary btn-light btn-sm dropdown-toggle"
                                                        type="button"
                                                        id="dropdownMenuButton"
                                                        data-toggle="dropdown"
                                                        aria-haspopup="true"
                                                        aria-expanded="false">
                                                    <i class="fas fa-download"></i>
                                                </button>
                                                <div class="dropdown-menu dropdown-menu-right"
                                                     aria-labelledby="dropdownMenuButton">
                                                    <span class="dropdown-item">Choose an option:</span>
                                                    <a class="dropdown-item" href="#">
                                                        <img src="~/wwwroot/dynamic/images/flaticons/excel.png"
                                                             class="img-fluid exports-icon"
                                                             alt="Excel image" />
                                                        Excel
                                                    </a>
                                                    <a class="dropdown-item" href="#">
                                                        <img src="~/wwwroot/dynamic/images/flaticons/csv.png"
                                                             class="img-fluid exports-icon"
                                                             alt="Excel image" />
                                                        CSV
                                                    </a>

                                                </div>
                                            </div>
                                            <a href="#"
                                               class="btn btn-secondary btn-light btn-sm"
                                               data-toggle="tooltip"
                                               data-placement="top"
                                               title="Print">
                                                <i class="fas fa-print"></i>
                                            </a>
                                        </div>
                                    </header>
                                    <div>
                                        <div class="table-scroll-x-y sales-main-table table-scroll" style="max-height: calc(100Vh - 12rem) !important; overflow: auto;">
                                            <table id="main-table" class="main-table table table-sm table-bordered bg-white">
                                                <thead>
                                                    <tr>
                                                        <th style="width: 90px">Date</th>
                                                        <th style="width: 100px">Ticket For</th>
                                                        <th style="width: 500px">Heading/Description</th>
                                                        <th class="text-center" style="width: 95px">Attachments</th>
                                                        <th class="text-center" style="width: 110px">Status</th>
                                                        <th class="text-center" style="width: 75px">Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody>

                                                    <tr ng-class="TicketStatusClass(tk)" dir-paginate="tk in TicketList | filter:searchData.Ticket | itemsPerPage: perPage.Ticket" current-page="currentPages.Ticket" pagination-id="TicketPagination">
                                                        <td>
                                                            {{tk.LogMiti}}
                                                            <label>{{tk.LogDateTime |timeFormat}}</label>
                                                        </td>
                                                        <td>{{tk.RequirementType}}</td>
                                                        <td>
                                                            <p class="mb-0"><b>{{tk.RequirementProblem}}. </b></p>
                                                            <label>{{tk.Description}}</label>
                                                        </td>
                                                        <td class="text-center">
                                                            <label data-toggle="modal" data-target="#docPreview"><i class="fas fa-file-alt text-file" style="font-size:23px;"></i></label>
                                                        </td>
                                                        <td class="text-center">
                                                            <label><span ng-class="GetClassForStatus(tk)"><b>{{tk.TicketStatus}}</b></span></label><br />
                                                            <span id="hours"></span>h : <span id="minutes"></span>m : <span id="seconds"></span>s
                                                        </td>
                                                        <td class="text-center">
                                                            <div>
                                                                <buton ng-show="tk.TicketStatus=='Completed'" class="btn btn-sm py-0 btn-success px-2 mt-1" data-toggle="modal" ng-click="openApprovedModal(tk)">Approve</buton>
                                                                <buton ng-show="tk.TicketStatus=='Open' || tk.TicketStatus=='In Progress'" class="btn btn-sm py-0 btn-success px-2 mt-1" ng-click="openCommentModal(tk)">Comment</buton>
                                                            </div>
                                                        </td>
                                                    </tr>

                                                </tbody>
                                            </table>
                                            <!-- table end -->
                                        </div>
                                    </div>
                                    <footer class="row align-items-center">
                                        <div class="col-md-12">
                                            <dir-pagination-controls pagination-id="TicketPagination" boundary-links="true" on-page-change="pageChangeHandler(newPageNumber)" template-url="/Scripts/dirPagination.tpl.html">
                                            </dir-pagination-controls>
                                        </div>
                                    </footer>
                                </div>
                                <div class="tab-pane fade" id="pills-return" role="tabpanel" aria-labelledby="pills-return-tab">
                                    <header class="row">
                                        <div class="col-md-7">
                                            <div class="clearfix">
                                                <form class="form-inline mb-2">
                                                    <div class="input-group input-group-sm mr-sm-2">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text cstm">Show</span>
                                                        </div>
                                                        <select class="form-control border-left-0 border-right-0 pr-0" ng-model="perPage.OpenTicket">
                                                            <option ng-value="pp.value" ng-repeat="pp in perPageColl" ng-selected="pp.value==perPage.OpenTicket">{{pp.text}}</option>
                                                        </select>
                                                        <div class="input-group-append">
                                                            <span class="input-group-text bg-white"><small>entries</small></span>
                                                        </div>
                                                    </div>
                                                    <div class="input-group input-group-sm table-search-filed">
                                                        <input class="form-control form-control-navbar"
                                                               type="search" placeholder="Search"
                                                               aria-label="Search" ng-model="searchData.OpenTicket">
                                                        <div class="input-group-append">
                                                            <button class="btn btn-default border-left-0"
                                                                    type="submit">
                                                                <i class="fas fa-search"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                        <!-- end col-md-8 -->
                                        <div class="col-md-5 text-right">
                                            <div class="dropdown dnld-file"
                                                 data-toggle="tooltip"
                                                 data-placement="top"
                                                 title="Download File">
                                                <button class="btn btn-secondary btn-light btn-sm dropdown-toggle"
                                                        type="button"
                                                        id="dropdownMenuButton"
                                                        data-toggle="dropdown"
                                                        aria-haspopup="true"
                                                        aria-expanded="false">
                                                    <i class="fas fa-download"></i>
                                                </button>
                                                <div class="dropdown-menu dropdown-menu-right"
                                                     aria-labelledby="dropdownMenuButton">
                                                    <span class="dropdown-item">Choose an option:</span>
                                                    <a class="dropdown-item" href="#">
                                                        <img src="~/wwwroot/dynamic/images/flaticons/excel.png"
                                                             class="img-fluid exports-icon"
                                                             alt="Excel image" />
                                                        Excel
                                                    </a>
                                                    <a class="dropdown-item" href="#">
                                                        <img src="~/wwwroot/dynamic/images/flaticons/csv.png"
                                                             class="img-fluid exports-icon"
                                                             alt="Excel image" />
                                                        CSV
                                                    </a>

                                                </div>
                                            </div>
                                            <a href="#"
                                               class="btn btn-secondary btn-light btn-sm"
                                               data-toggle="tooltip"
                                               data-placement="top"
                                               title="Print">
                                                <i class="fas fa-print"></i>
                                            </a>
                                        </div>
                                    </header>
                                    <div>
                                        <div class="table-scroll-x-y sales-main-table table-scroll" style="max-height: calc(100Vh - 12rem) !important; overflow: auto;">
                                            <table id="main-table"
                                                   class="main-table table table-sm table-bordered bg-white">
                                                <thead>
                                                    <tr>
                                                        <th style="width: 90px">Date</th>
                                                        <th style="width: 100px">Ticket For</th>
                                                        <th style="width: 500px">Heading/Description</th>
                                                        <th class="text-center" style="width: 95px">Attachments</th>
                                                        <th class="text-center" style="width: 110px">Status</th>
                                                        <th class="text-center" style="width: 75px">Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr @*class="openticketsbg"*@ ng-class="TicketStatusClass(tk)" dir-paginate="tk in TicketList_Open | filter:searchData.OpenTicket | itemsPerPage: perPage.OpenTicket" current-page="currentPages.OpenTicket" pagination-id="OpenTicketPagination">
                                                        <td>
                                                            {{tk.LogMiti}}
                                                            <label>{{tk.LogDateTime |timeFormat}}</label>
                                                        </td>
                                                        <td>{{tk.RequirementType}}</td>
                                                        <td>
                                                            <p class="mb-0"><b>{{tk.RequirementProblem}}. </b></p>
                                                            <label>{{tk.Description}}</label>
                                                        </td>
                                                        <td class="text-center">
                                                            <label data-toggle="modal" data-target="#docPreview"><i class="fas fa-file-alt text-file" style="font-size:23px;"></i></label>
                                                        </td>
                                                        <td class="text-center">
                                                            <label><span ng-class="GetClassForStatus(tk)"><b>{{tk.TicketStatus}}</b></span></label><br />
                                                            <span id="hours"></span>h : <span id="minutes"></span>m : <span id="seconds"></span>s
                                                        </td>

                                                        <td class="text-center">
                                                            <div>
                                                                <buton class="btn btn-sm py-0 btn-success px-2 mt-1" ng-click="openCommentModal(tk)">Comment</buton>
                                                            </div>
                                                        </td>
                                                    </tr>                                                   
                                                </tbody>
                                            </table>
                                            <!-- table end -->
                                        </div>
                                    </div>
                                    <footer class="row align-items-center">
                                        <div class="col-md-12">
                                            <dir-pagination-controls pagination-id="OpenTicketPagination" boundary-links="true" on-page-change="pageChangeHandler(newPageNumber)" template-url="/Scripts/dirPagination.tpl.html">
                                            </dir-pagination-controls>
                                        </div>
                                    </footer>
                                </div>

                                <!--New Tab Added By Suresh starts-->
                                <div class="tab-pane fade" id="pills-inprogress" role="tabpanel" aria-labelledby="pills-inprogress-tab">
                                    <header class="row">
                                        <div class="col-md-7">
                                            <div class="clearfix">
                                                <form class="form-inline mb-2">
                                                    <div class="input-group input-group-sm mr-sm-2">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text cstm">Show</span>
                                                        </div>
                                                        <select class="form-control border-left-0 border-right-0 pr-0" ng-model="perPage.InProgress">
                                                            <option ng-value="pp.value" ng-repeat="pp in perPageColl" ng-selected="pp.value==perPage.InProgress">{{pp.text}}</option>
                                                        </select>
                                                        <div class="input-group-append">
                                                            <span class="input-group-text bg-white"><small>entries</small></span>
                                                        </div>
                                                    </div>
                                                    <div class="input-group input-group-sm table-search-filed">
                                                        <input class="form-control form-control-navbar"
                                                               type="search" placeholder="Search"
                                                               aria-label="Search" ng-model="searchData.InProgress">
                                                        <div class="input-group-append">
                                                            <button class="btn btn-default border-left-0"
                                                                    type="submit">
                                                                <i class="fas fa-search"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                        <!-- end col-md-8 -->
                                        <div class="col-md-5 text-right">
                                            <div class="dropdown dnld-file"
                                                 data-toggle="tooltip"
                                                 data-placement="top"
                                                 title="Download File">
                                                <button class="btn btn-secondary btn-light btn-sm dropdown-toggle"
                                                        type="button"
                                                        id="dropdownMenuButton"
                                                        data-toggle="dropdown"
                                                        aria-haspopup="true"
                                                        aria-expanded="false">
                                                    <i class="fas fa-download"></i>
                                                </button>
                                                <div class="dropdown-menu dropdown-menu-right"
                                                     aria-labelledby="dropdownMenuButton">
                                                    <span class="dropdown-item">Choose an option:</span>
                                                    <a class="dropdown-item" href="#">
                                                        <img src="~/wwwroot/dynamic/images/flaticons/excel.png"
                                                             class="img-fluid exports-icon"
                                                             alt="Excel image" />
                                                        Excel
                                                    </a>
                                                    <a class="dropdown-item" href="#">
                                                        <img src="~/wwwroot/dynamic/images/flaticons/csv.png"
                                                             class="img-fluid exports-icon"
                                                             alt="Excel image" />
                                                        CSV
                                                    </a>

                                                </div>
                                            </div>
                                            <a href="#"
                                               class="btn btn-secondary btn-light btn-sm"
                                               data-toggle="tooltip"
                                               data-placement="top"
                                               title="Print">
                                                <i class="fas fa-print"></i>
                                            </a>
                                        </div>
                                    </header>
                                    <div>
                                        <div class="table-scroll-x-y sales-main-table table-scroll" style="max-height: calc(100Vh - 12rem) !important; overflow: auto;">
                                            <table id="main-table"
                                                   class="main-table table table-sm table-bordered bg-white">
                                                <thead>
                                                    <tr>
                                                        <th style="width: 90px">Date</th>
                                                        <th style="width: 100px">Ticket For</th>
                                                        <th style="width: 500px">Heading/Description</th>
                                                        <th class="text-center" style="width: 95px">Attachments</th>
                                                        <th class="text-center" style="width: 110px">Status</th>
                                                        <th class="text-center" style="width: 110px">Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr @*class="ticketsinfobg"*@ ng-class="TicketStatusClass(tk)" dir-paginate="tk in TicketList_InProgress | filter:searchData.InProgress | itemsPerPage: perPage.InProgress" current-page="currentPages.InProgress" pagination-id="InProgressTicketPagination">
                                                        <td>
                                                            {{tk.LogMiti}}
                                                            <label>{{tk.LogDateTime |timeFormat}}</label>
                                                        </td>
                                                        <td>{{tk.RequirementType}}</td>
                                                        <td>
                                                            <p class="mb-0"><b>{{tk.RequirementProblem}}. </b></p>
                                                            <label>{{tk.Description}}</label>
                                                        </td>
                                                        <td class="text-center">
                                                            <label data-toggle="modal" data-target="#docPreview"><i class="fas fa-file-alt text-file" style="font-size:23px;"></i></label>
                                                        </td>
                                                        <td class="text-center">
                                                            <label><span ng-class="GetClassForStatus(tk)"><b>{{tk.TicketStatus}}</b></span></label><br />
                                                            <span id="hours"></span>h : <span id="minutes"></span>m : <span id="seconds"></span>s
                                                        </td>
                                                        <td class="text-center">
                                                            <buton class="btn btn-sm py-0 btn-success px-2 mt-1" ng-click="openCommentModal(tk)">Comment</buton>
                                                        </td>
                                                    </tr>
                                                   
                                                </tbody>
                                            </table>
                                            <!-- table end -->
                                        </div>
                                    </div>
                                    <footer class="row align-items-center">
                                        <div class="col-md-12">
                                            <dir-pagination-controls pagination-id="InProgressPagination" boundary-links="true" on-page-change="pageChangeHandler(newPageNumber)" template-url="/Scripts/dirPagination.tpl.html">
                                            </dir-pagination-controls>
                                        </div>
                                    </footer>
                                </div>
                                <!--Ends-->
                                <div class="tab-pane fade" id="pills-yetto" role="tabpanel" aria-labelledby="pills-yetto-tab">
                                    <header class="row">
                                        <div class="col-md-7">
                                            <div class="clearfix">
                                                <form class="form-inline mb-2">
                                                    <div class="input-group input-group-sm mr-sm-2">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text cstm">Show</span>
                                                        </div>
                                                        <select class="form-control border-left-0 border-right-0 pr-0" ng-model="perPage.OnHold">
                                                            <option ng-value="pp.value" ng-repeat="pp in perPageColl" ng-selected="pp.value==perPage.OnHold">{{pp.text}}</option>
                                                        </select>
                                                        <div class="input-group-append">
                                                            <span class="input-group-text bg-white"><small>entries</small></span>
                                                        </div>
                                                    </div>
                                                    <div class="input-group input-group-sm table-search-filed">
                                                        <input class="form-control form-control-navbar"
                                                               type="search" placeholder="Search"
                                                               aria-label="Search" ng-model="searchData.OnHold">
                                                        <div class="input-group-append">
                                                            <button class="btn btn-default border-left-0"
                                                                    type="submit">
                                                                <i class="fas fa-search"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                        <!-- end col-md-8 -->
                                        <div class="col-md-5 text-right">
                                            <div class="dropdown dnld-file"
                                                 data-toggle="tooltip"
                                                 data-placement="top"
                                                 title="Download File">
                                                <button class="btn btn-secondary btn-light btn-sm dropdown-toggle"
                                                        type="button"
                                                        id="dropdownMenuButton"
                                                        data-toggle="dropdown"
                                                        aria-haspopup="true"
                                                        aria-expanded="false">
                                                    <i class="fas fa-download"></i>
                                                </button>
                                                <div class="dropdown-menu dropdown-menu-right"
                                                     aria-labelledby="dropdownMenuButton">
                                                    <span class="dropdown-item">Choose an option:</span>
                                                    <a class="dropdown-item" href="#">
                                                        <img src="~/wwwroot/dynamic/images/flaticons/excel.png"
                                                             class="img-fluid exports-icon"
                                                             alt="Excel image" />
                                                        Excel
                                                    </a>
                                                    <a class="dropdown-item" href="#">
                                                        <img src="~/wwwroot/dynamic/images/flaticons/csv.png"
                                                             class="img-fluid exports-icon"
                                                             alt="Excel image" />
                                                        CSV
                                                    </a>

                                                </div>
                                            </div>
                                            <a href="#"
                                               class="btn btn-secondary btn-light btn-sm"
                                               data-toggle="tooltip"
                                               data-placement="top"
                                               title="Print">
                                                <i class="fas fa-print"></i>
                                            </a>
                                        </div>
                                    </header>
                                    <div>
                                        <div class="table-scroll-x-y sales-main-table table-scroll" style="max-height: calc(100Vh - 12rem) !important; overflow: auto;">
                                            <table id="main-table"
                                                   class="main-table table table-sm table-bordered bg-white">
                                                <thead>
                                                    <tr>
                                                        <th style="width: 90px">Date</th>
                                                        <th style="width: 100px">Ticket For</th>
                                                        <th style="width: 500px">Heading/Description</th>
                                                        <th class="text-center" style="width: 95px">Attachments</th>
                                                        <th class="text-center" style="width: 110px">Status</th>

                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr @*class="inprogressbg"*@ ng-class="TicketStatusClass(tk)" dir-paginate="tk in TicketList_Hold | filter:searchData.OnHold | itemsPerPage: perPage.OnHold" current-page="currentPages.OnHold" pagination-id="OnHoldTicketPagination">
                                                        <td>
                                                            {{tk.LogMiti}}
                                                            <label>{{tk.LogDateTime |timeFormat}}</label>
                                                        </td>
                                                        <td>{{tk.RequirementType}}</td>
                                                        <td>
                                                            <p class="mb-0"><b>{{tk.RequirementProblem}}. </b></p>
                                                            <label>{{tk.Description}}</label>
                                                        </td>
                                                        <td class="text-center">
                                                            <label data-toggle="modal" data-target="#docPreview"><i class="fas fa-file-alt text-file" style="font-size:23px;"></i></label>
                                                        </td>
                                                        <td class="text-center">
                                                            <label><span ng-class="GetClassForStatus(tk)"><b>{{tk.TicketStatus}}</b></span></label><br />
                                                            <span id="hours"></span>h : <span id="minutes"></span>m : <span id="seconds"></span>s
                                                        </td>
                                                    </tr>
                                                   
                                                </tbody>
                                            </table>
                                            <!-- table end -->
                                        </div>
                                    </div>
                                    <footer class="row align-items-center">
                                        <div class="col-md-12">
                                            <dir-pagination-controls pagination-id="OnHoldPagination" boundary-links="true" on-page-change="pageChangeHandler(newPageNumber)" template-url="/Scripts/dirPagination.tpl.html">
                                            </dir-pagination-controls>
                                        </div>
                                    </footer>
                                </div>
                                <div class="tab-pane fade" id="pills-completed" role="tabpanel" aria-labelledby="pills-completed-tab">
                                    <header class="row">
                                        <div class="col-md-7">
                                            <div class="clearfix">
                                                <form class="form-inline mb-2">
                                                    <div class="input-group input-group-sm mr-sm-2">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text cstm">Show</span>
                                                        </div>
                                                        <select class="form-control border-left-0 border-right-0 pr-0" ng-model="perPage.Completed">
                                                            <option ng-value="pp.value" ng-repeat="pp in perPageColl" ng-selected="pp.value==perPage.Completed">{{pp.text}}</option>
                                                        </select>
                                                        <div class="input-group-append">
                                                            <span class="input-group-text bg-white"><small>entries</small></span>
                                                        </div>
                                                    </div>
                                                    <div class="input-group input-group-sm table-search-filed">
                                                        <input class="form-control form-control-navbar"
                                                               type="search" placeholder="Search"
                                                               aria-label="Search" ng-model="searchData.Completed">
                                                        <div class="input-group-append">
                                                            <button class="btn btn-default border-left-0"
                                                                    type="submit">
                                                                <i class="fas fa-search"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                        <!-- end col-md-8 -->
                                        <div class="col-md-5 text-right">
                                            <div class="dropdown dnld-file"
                                                 data-toggle="tooltip"
                                                 data-placement="top"
                                                 title="Download File">
                                                <button class="btn btn-secondary btn-light btn-sm dropdown-toggle"
                                                        type="button"
                                                        id="dropdownMenuButton"
                                                        data-toggle="dropdown"
                                                        aria-haspopup="true"
                                                        aria-expanded="false">
                                                    <i class="fas fa-download"></i>
                                                </button>
                                                <div class="dropdown-menu dropdown-menu-right"
                                                     aria-labelledby="dropdownMenuButton">
                                                    <span class="dropdown-item">Choose an option:</span>
                                                    <a class="dropdown-item" href="#">
                                                        <img src="~/wwwroot/dynamic/images/flaticons/excel.png"
                                                             class="img-fluid exports-icon"
                                                             alt="Excel image" />
                                                        Excel
                                                    </a>
                                                    <a class="dropdown-item" href="#">
                                                        <img src="~/wwwroot/dynamic/images/flaticons/csv.png"
                                                             class="img-fluid exports-icon"
                                                             alt="Excel image" />
                                                        CSV
                                                    </a>

                                                </div>
                                            </div>
                                            <a href="#"
                                               class="btn btn-secondary btn-light btn-sm"
                                               data-toggle="tooltip"
                                               data-placement="top"
                                               title="Print">
                                                <i class="fas fa-print"></i>
                                            </a>

                                        </div>
                                    </header>
                                    <div>
                                        <div class="table-scroll-x-y sales-main-table table-scroll" style="max-height: calc(100Vh - 12rem) !important; overflow: auto;">
                                            <table id="main-table"
                                                   class="main-table table table-sm table-bordered bg-white">
                                                <thead>
                                                    <tr>
                                                        <th style="width: 90px">Date</th>
                                                        <th style="width: 100px">Ticket For</th>
                                                        <th style="width: 500px">Heading/Description</th>
                                                        <th class="text-center" style="width: 95px">Attachments</th>
                                                        <th class="text-center" style="width: 110px">Status</th>
                                                        <th class="text-center" style="width: 75px">Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody>

                                                    <tr @*class="closebg"*@ ng-class="TicketStatusClass(tk)" dir-paginate="tk in TicketList_Completed | filter:searchData.Completed | itemsPerPage: perPage.Completed" current-page="currentPages.Completed" pagination-id="CompletedTicketPagination">
                                                        <td>
                                                            {{tk.LogMiti}}
                                                            <label>{{tk.LogDateTime |timeFormat}}</label>
                                                        </td>
                                                        <td>{{tk.RequirementType}}</td>
                                                        <td>
                                                            <p class="mb-0"><b>{{tk.RequirementProblem}}. </b></p>
                                                            <label>{{tk.Description}}</label>
                                                        </td>
                                                        <td class="text-center">
                                                            <label data-toggle="modal" data-target="#docPreview"><i class="fas fa-file-alt text-file" style="font-size:23px;"></i></label>
                                                        </td>
                                                        <td class="text-center">
                                                            <label><span ng-class="GetClassForStatus(tk)"><b>{{tk.TicketStatus}}</b></span></label><br />
                                                            <span id="hours"></span>h : <span id="minutes"></span>m : <span id="seconds"></span>s
                                                        </td>
                                                        <td class="text-center">
                                                            <div><buton class="btn btn-sm py-0 btn-success px-2 mt-1" data-toggle="modal" data-target="#approvalmodal">Approve</buton></div>
                                                        </td>
                                                    </tr>
                                                   
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <footer class="row align-items-center">
                                        <div class="col-md-12">
                                            <dir-pagination-controls pagination-id="CompletedPagination" boundary-links="true" on-page-change="pageChangeHandler(newPageNumber)" template-url="/Scripts/dirPagination.tpl.html">
                                            </dir-pagination-controls>
                                        </div>
                                    </footer>
                                </div>
                                <div class="tab-pane fade" id="pills-lost" role="tabpanel" aria-labelledby="pills-lost-tab">
                                    <header class="row">
                                        <div class="col-md-7">
                                            <div class="clearfix">
                                                <form class="form-inline mb-2">
                                                    <div class="input-group input-group-sm mr-sm-2">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text cstm">Show</span>
                                                        </div>
                                                        <select class="form-control border-left-0 border-right-0 pr-0" ng-model="perPage.Closed">
                                                            <option ng-value="pp.value" ng-repeat="pp in perPageColl" ng-selected="pp.value==perPage.Closed">{{pp.text}}</option>
                                                        </select>
                                                        <div class="input-group-append">
                                                            <span class="input-group-text bg-white"><small>entries</small></span>
                                                        </div>
                                                    </div>
                                                    <div class="input-group input-group-sm table-search-filed">
                                                        <input class="form-control form-control-navbar"
                                                               type="search" placeholder="Search"
                                                               aria-label="Search" ng-model="searchData.Closed">
                                                        <div class="input-group-append">
                                                            <button class="btn btn-default border-left-0"
                                                                    type="submit">
                                                                <i class="fas fa-search"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                        <!-- end col-md-8 -->
                                        <div class="col-md-5 text-right">
                                            <div class="dropdown dnld-file"
                                                 data-toggle="tooltip"
                                                 data-placement="top"
                                                 title="Download File">
                                                <button class="btn btn-secondary btn-light btn-sm dropdown-toggle"
                                                        type="button"
                                                        id="dropdownMenuButton"
                                                        data-toggle="dropdown"
                                                        aria-haspopup="true"
                                                        aria-expanded="false">
                                                    <i class="fas fa-download"></i>
                                                </button>
                                                <div class="dropdown-menu dropdown-menu-right"
                                                     aria-labelledby="dropdownMenuButton">
                                                    <span class="dropdown-item">Choose an option:</span>
                                                    <a class="dropdown-item" href="#">
                                                        <img src="~/wwwroot/dynamic/images/flaticons/excel.png"
                                                             class="img-fluid exports-icon"
                                                             alt="Excel image" />
                                                        Excel
                                                    </a>
                                                    <a class="dropdown-item" href="#">
                                                        <img src="~/wwwroot/dynamic/images/flaticons/csv.png"
                                                             class="img-fluid exports-icon"
                                                             alt="Excel image" />
                                                        CSV
                                                    </a>

                                                </div>
                                            </div>
                                            <a href="#"
                                               class="btn btn-secondary btn-light btn-sm"
                                               data-toggle="tooltip"
                                               data-placement="top"
                                               title="Print">
                                                <i class="fas fa-print"></i>
                                            </a>
                                        </div>
                                    </header>
                                    <div>
                                        <div class="table-scroll-x-y sales-main-table table-scroll" style="max-height: calc(100Vh - 12rem) !important; overflow: auto;">
                                            <table id="main-table"
                                                   class="main-table table table-sm table-bordered bg-white">
                                                <thead>
                                                    <tr>
                                                        <th style="width: 90px">Date</th>
                                                        <th style="width: 100px">Ticket For</th>
                                                        <th style="width: 500px">Heading/Description</th>
                                                        <th class="text-center" style="width: 95px">Attachments</th>
                                                        <th class="text-center" style="width: 110px">Status</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr @*class="ticketssuccessbg"*@ ng-class="TicketStatusClass(tk)" dir-paginate="tk in TicketList_Closed | filter:searchData.Closed | itemsPerPage: perPage.Closed" current-page="currentPages.Closed" pagination-id="ClosedTicketPagination">
                                                        <td>
                                                            {{tk.LogMiti}}
                                                            <label>{{tk.LogDateTime |timeFormat}}</label>
                                                        </td>
                                                        <td>{{tk.RequirementType}}</td>
                                                        <td>
                                                            <p class="mb-0"><b>{{tk.RequirementProblem}}. </b></p>
                                                            <label>{{tk.Description}}</label>
                                                        </td>
                                                        <td class="text-center">
                                                            <label data-toggle="modal" data-target="#docPreview"><i class="fas fa-file-alt text-file" style="font-size:23px;"></i></label>
                                                        </td>
                                                        <td class="text-center">
                                                            <label><span ng-class="GetClassForStatus(tk)"><b>{{tk.TicketStatus}}</b></span></label><br />
                                                            <span id="hours"></span>h : <span id="minutes"></span>m : <span id="seconds"></span>s
                                                        </td>
                                                    </tr>
                                                    
                                                </tbody>
                                            </table>
                                            <!-- table end -->
                                        </div>
                                    </div>
                                    <footer class="row align-items-center">
                                        <div class="col-md-12">
                                            <dir-pagination-controls pagination-id="ClosedPagination" boundary-links="true" on-page-change="pageChangeHandler(newPageNumber)" template-url="/Scripts/dirPagination.tpl.html">
                                            </dir-pagination-controls>
                                        </div>
                                    </footer>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </section>
        </div>

        <!--Document Preview and Download modal starts-->
        <div class="modal fade" id="docPreview" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
             aria-hidden="true">
            <div class="modal-dialog modal-xl" role="document">
                <div class="modal-content" style="margin-top: 50px">
                    <div class="modal-header" style="padding: 6px">
                        <h5 class="modal-title" id="exampleModalLongTitle" style="font-size: 16px">
                            <span style="font-size: 16px;"><i class="fas fa-folder-open text-success"></i> &nbsp;Attached Documents </span>
                        </h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body p-0">
                        <div class="card card-default">
                            <div class="card-body">
                                <div class="teacher-file-attach d-flex bg-white p-2" style="margin-top: -22px;">
                                    <span style="font-size: 16px;" class="ml-auto">
                                        <a href="~/wwwroot/dynamic/images/question-paper-sample.jpg" download> <i class="fas fa-download text-success" title="Download All"></i></a>
                                    </span>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="ba-0 ds-1  text-center">
                                            <a href="~/wwwroot/dynamic/images/question-paper-sample.jpg" target="_blank">
                                                <img alt="Card image cap" class="img-fluid" src="~/wwwroot/dynamic/images/question-paper-sample.jpg" style="height: 300px; width: auto; border: 1px solid #ccc" />
                                            </a><br />
                                            <span style="font-size: 16px;" class="ml-auto">
                                                <a href="~/wwwroot/dynamic/images/question-paper-sample.jpg" download> <i class="fas fa-download text-success mt-2" title="Download"></i></a>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="ba-0 ds-1  text-center">
                                            <a href="~/wwwroot/dynamic/images/question-paper-sample.jpg" target="_blank">
                                                <img alt="Card image cap" class="img-fluid" src="~/wwwroot/dynamic/images/question-paper-sample.jpg" style="height: 300px; width: auto; border: 1px solid #ccc" />
                                            </a><br />
                                            <span style="font-size: 16px;" class="ml-auto">
                                                <a href="~/wwwroot/dynamic/images/question-paper-sample.jpg" download> <i class="fas fa-download text-success mt-2" title="Download"></i></a>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="ba-0 ds-1  text-center">
                                            <a href="~/wwwroot/dynamic/images/question-paper-sample.jpg" target="_blank">
                                                <img alt="Card image cap" class="img-fluid" src="~/wwwroot/dynamic/images/question-paper-sample.jpg" style="height: 300px; width: auto; border: 1px solid #ccc" />
                                            </a><br />
                                            <span style="font-size: 16px;" class="ml-auto">
                                                <a href="~/wwwroot/dynamic/images/question-paper-sample.jpg" download> <i class="fas fa-download text-success mt-2" title="Download"></i></a>
                                            </span>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer" style="padding: 6px">
                        <button type="button" class="btn btn-sm btn-secondary" data-dismiss="modal" style="min-width: 90px">
                            Close
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <!--Documents Preview ends-->
        <!-- Approval Modal starts-->
        <div class="modal fade" id="approvalmodal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
             aria-hidden="true">
            <div class="modal-dialog modal-md" role="document">
                <div class="modal-content" style="margin-top: 50px">
                    <div class="modal-header" style="padding: 6px">
                        <h5 class="modal-title" id="exampleModalLongTitle" style="font-size: 16px">
                            Approval Remarks
                        </h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-md-12">
                                <label>Approval Remarks</label>
                                <textarea class="form-control form-control-sm" rows="4" ng-model="newFeedback.ApprovedRemarks"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-sm btn-success" style="min-width: 90px" ng-click="SaveTicketApproved()">
                            Approve
                        </button>

                    </div>
                </div>
            </div>
        </div>
        <!--Documents Preview ends-->
        <!-- Approval Modal starts-->
        <div class="modal fade" id="commentmodal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
             aria-hidden="true">
            <div class="modal-dialog modal-md" role="document">
                <div class="modal-content" style="margin-top: 50px">
                    <div class="modal-header" style="padding: 6px">
                        <h5 class="modal-title" id="exampleModalLongTitle" style="font-size: 16px">
                            Comment for Ticket 
                        </h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-md-12">
                                <label>Remarks</label>
                                <textarea class="form-control form-control-sm" rows="4" ng-model="newComment.Comment"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-sm btn-success" style="min-width: 90px" ng-click="SaveTicketComment()">
                            Save
                        </button>

                    </div>
                </div>
            </div>
        </div>
        <!--Documents Preview ends-->
    </section>
</div>
 