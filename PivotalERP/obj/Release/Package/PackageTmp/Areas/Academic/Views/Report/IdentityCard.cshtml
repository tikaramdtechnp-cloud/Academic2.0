<script src="~/jslib/Academic/IdentityCard.js?v=20251115"></script>
<div class="hold-transition  layout-navbar-fixed" ng-app="myApp" ng-controller="IdentityCardController" ng-init="LoadData()">
    <section class="content">
        <div class="container-fluid">
            <section class="iframe-content-starts-here">
                <div class="tab-content" id="pills-tabContent">
                    <!-- First Tab Content -->
                    <!-- Second Tab Content -->
                    <div class="tab-pane fade show active" id="pills-second" role="tabpanel"
                         aria-labelledby="pills-second-tab">
                        <header class="if-page-have-nav-tabs px-2">
                            <div class="row upper-tab">
                                <div class="col-md-12">
                                    <!-- <h3 class="menu-title">Class Setup</h3> -->
                                    <ul class="nav nav-tabs cstm-nav-tabs-border-bottom-active" id="myTab"
                                        role="tablist">
                                        <li class="nav-item" role="presentation">
                                            <a class="nav-link active" id="home-tab" data-toggle="tab"
                                               href="#home" role="tab" aria-controls="home"
                                               aria-selected="true">Student Card</a>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <a class="nav-link" id="profile-tab" data-toggle="tab"
                                               href="#profile" role="tab" aria-controls="profile"
                                               aria-selected="false">Employee Card</a>
                                        </li>

                                    </ul>
                                </div>

                            </div>
                        </header>
                        <!-- end if-page-have-nav-tabs -->
                        <div class="tab-content" id="myTabContent">
                            <div class="tab-pane fade show active main-section" id="home" role="tabpanel"
                                 aria-labelledby="home-tab">
                                <div id="class-wise-section " class="card">
                                    <div class="card-body p-2">
                                        <div class="row">
                                            <div class="col-sm-2 col-lg-2 col-md-2" ng-show="AcademicConfig.ActiveBatch == true">
                                                <div class="form-group">
                                                    <label>Batch</label>
                                                    <select class="form-control form-control-sm select2" ng-model="newPrintIdCard.BatchId" ng-change="PrintNormalIdCard(1)">
                                                        <option ng-value="0">**Select Batch**</option>
                                                        <option ng-value="cl.id" ng-repeat="cl in BatchList">{{cl.text}}</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-sm-2 col-lg-2 col-md-2">
                                                <div class="form-group">
                                                    <label>Class</label>
                                                    <select class="form-control form-control-sm select2" ng-model="newPrintIdCard.SelectedClass" ng-change="PrintNormalIdCard(2)">
                                                        <option ng-value="0" selected>**Select Class**</option>
                                                        <option ng-value="cl" ng-repeat="cl in ClassSection.SectionList">{{cl.text}}</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-sm-2 col-lg-2 col-md-2" ng-show="SelectedClass.ClassType==3">

                                                <div class="form-group">
                                                    <label>Semester</label>
                                                    <select class="form-control form-control-sm select2" ng-model="newPrintIdCard.SemesterId" ng-change="PrintNormalIdCard(3)">
                                                        <option ng-value="0">**Select Semester**</option>
                                                        <option ng-value="cl.id" ng-repeat="cl in SelectedClassSemesterList">{{cl.text}}</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-sm-2 col-lg-2 col-md-2" ng-show="SelectedClass.ClassType==2">

                                                <div class="form-group">
                                                    <label>Year</label>
                                                    <select class="form-control form-control-sm select2" ng-model="newPrintIdCard.ClassYearId" ng-change="PrintNormalIdCard(4)">
                                                        <option ng-value="0">**Select Year**</option>
                                                        <option ng-value="cl.id" ng-repeat="cl in SelectedClassClassYearList">{{cl.text}}</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-sm-2 col-lg-2 col-md-2">
                                                <div class="form-group">
                                                    <label>Issue Date</label>
                                                    <input type="text" class="form-control form-control-sm" date-picker ng-model="newPrintIdCard.IssueDate_TMP" date-detail="newPrintIdCard.IssueDateDet" after-days="1500" before-days="1500">
                                                </div>
                                            </div>
                                            <div class="col-sm-2 col-lg-2 col-md-2">
                                                <div class="form-group">
                                                    <label>Valid Upto</label>
                                                    <input type="text" class="form-control form-control-sm" date-picker ng-model="newPrintIdCard.ValidUpto_TMP" date-detail="newPrintIdCard.ValidUptoDet" after-days="1500" before-days="1500">
                                                </div>
                                            </div>
                                            <div class="col-sm-1 col-lg-1 col-md-1">
                                                <label>Generate QR</label>
                                                <div class="cstm-switch-btn-wrap">
                                                    <button type="button" ng-class="newPrintIdCard.GenerateQR==true ? 'btn btn-sm btn-toggle active' : 'btn btn-sm btn-toggle'"
                                                            ng-aria-pressed="newPrintIdCard.GenerateQR==true ? 'true' : 'false' "
                                                            autocomplete="off" ng-click="TestClick(newPrintIdCard)">
                                                        <div class="handle"></div>
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="col-sm-2 col-lg-2 col-md-1">
                                                <label>For</label>
                                                <select name="class-group" id="" form="" class="form-control form-control-sm select2" ng-model="newPrintIdCard.For" ng-change="PrintNormalIdCard()">
                                                    <option ng-value="0">All</option>
                                                    <option ng-value="1">Not Applicable Fee</option>
                                                    <option ng-value="2">Extra Curricular</option>
                                                    <option ng-value="3">Day Boarders</option>
                                                    <option ng-value="4">Fixed Amount Student</option>
                                                    <option ng-value="5">Transport</option>
                                                    <option ng-value="6">Hostel</option>
                                                    <option ng-value="7">General Only</option>
                                                </select>
                                            </div>

                                            <div class="col-sm-2 col-lg-2 col-md-1" ng-show="newPrintIdCard.For==5 || newPrintIdCard.For==6">
                                                <div class="form-group">
                                                    <label>Month..</label>
                                                    <select name="class-group" class="form-control form-control-sm" ng-model="newPrintIdCard.ForMonth" ng-change="PrintNormalIdCard()">
                                                        <option ng-value="rt.id" ng-repeat="rt in MonthList">{{rt.text}}</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-sm-2 col-lg-2 col-md-2">
                                                <div class="form-group">
                                                    <label>Select Report</label>
                                                    <select name="comment-group" id="" form="" class="form-control form-control-sm select2" ng-change="PrintNormalIdCard()" ng-model="newPrintIdCard.RptTranId">
                                                        <option ng-value="0" ng-selected="true">Select Report</option>
                                                        <option ng-value="rt.RptTranId" ng-repeat="rt in newPrintIdCard.TemplatesColl">{{rt.ReportName}}</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-sm-2 col-lg-2 col-md-2">
                                                <div class="form-group">
                                                    <label>Roll No. From</label>
                                                    <input type="number" class="form-control form-control-sm" ng-model="newPrintIdCard.RollNoFrom">
                                                </div>
                                            </div>
                                            <div class="col-md-1">
                                                <div class="form-group">
                                                    <label>To</label>
                                                    <input type="number" class="form-control form-control-sm" ng-model="newPrintIdCard.RollNoTo">
                                                </div>
                                            </div>
                                            <div class="col-sm-2 col-lg-2 col-md-2 mt-4">
                                                <div class="form-group">
                                                    <label for="chkOnlyPhotoStudent">Only Photo Student</label>
                                                    <input id="chkOnlyPhotoStudent" name="chkOnlyPhotoStudent" type="checkbox" ng-model="newPrintIdCard.OnlyPhotoStudent">
                                                </div>
                                            </div>
                                            <div class="col-sm-2 col-lg-2 col-md-2 mt-4">
                                                <a class="btn btn-secondary btn-sm ml-4" download="{{newPrintIdCard.SelectedClass.text}}.zip" href="~/Academic/Report/DownloadQrImage?classId={{newPrintIdCard.SelectedClass.ClassId}}&sectionId={{newPrintIdCard.SelectedClass.SectionId}}&batchId={{newPrintIdCard.BatchId}}&semesterId={{newPrintIdCard.SemesterId}}&classYearId={{newPrintIdCard.ClassYearId}}">
                                                    <i class="fa fa-download"></i>Download QR
                                                </a>
                                            </div>
                                            <div class="col-sm-3 col-lg-3 col-md-3">
                                                <div class="form-group">
                                                    <label>Select Multiple Class</label>
                                                    <select class="form-control form-control-sm select2" ng-model="newPrintIdCard.ClassIdColl" multiple>
                                                        <option ng-value="cl.ClassId" ng-repeat="cl in ClassSection.ClassList">{{cl.text}}</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label>Select Student(s)</label>
                                                    <select multiple class="form-control form-control-sm select2" ng-change="PrintStudentIdCard()" ng-model="newPrintIdCard.StudentIdColl">
                                                        <option ng-value="0" ng-selected="true">** Select Student **</option>
                                                        <option ng-value="st.StudentId" ng-repeat="st in AllStudentColl">{{st.Name}}-{{st.RegNo}}-{{st.ClassName}}({{st.SectionName}})-{{st.RollNo}}</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>

                                            <div class="row mt-2" id="schedule-report-table">
                                                <iframe id="frmRptTabulation" style='width: 100%;height:calc(100vh - 200px);background-color: white;visibility: visible;' frameborder='0' scrolling='yes'></iframe>
                                            </div>
                                        </div>
                                </div>

                            </div>
                            <div class="tab-pane fade main-section" id="profile" role="tabpanel"
                                 aria-labelledby="profile-tab">

                                <div id="employee-identity-section" class="card">
                                    <div class="card-body p-0">
                                        <form action="">
                                            <div class="row">
                                                <div class="col-sm-3 col-lg-3 col-md-3">
                                                    <label>Department</label>
                                                    <select name="comment-group" id="" form="" class="form-control form-control-sm select2" ng-change="PrintNormalIdCardEmp()" ng-model="newIdentityCard.DepartmentId">
                                                        <option ng-value="0" ng-selected="true">All</option>
                                                        <option ng-value="rt.DepartmentId" ng-repeat="rt in DepartmentList">{{rt.Name}}</option>
                                                    </select>
                                                </div>
                                                <div class="col-sm-3 col-lg-3 col-md-3">
                                                    <label>Designation</label>
                                                    <select name="comment-group" id="" form="" class="form-control form-control-sm select2" ng-change="PrintNormalIdCardEmp()" ng-model="newIdentityCard.DesignationId">
                                                        <option ng-value="0" ng-selected="true">All</option>
                                                        <option ng-value="rt.DesignationId" ng-repeat="rt in DesignationList">{{rt.Name}}</option>
                                                    </select>
                                                </div>
                                                <div class="col-sm-2 col-lg-2 col-md-2">
                                                    <label>Issue Date</label>
                                                    <input type="text"
                                                           class="form-control form-control-sm"
                                                           placeholder="Issue Date" ng-model="newIdentityCard.IssueDate_TMP" date-picker date-detail="newIdentityCard.IssueDateDet" after-days="1500" before-days="1500" />
                                                </div>
                                                <div class="col-sm-2 col-lg-2 col-md-2">
                                                    <label>Valid Upto</label>
                                                    <input type="text"
                                                           class="form-control form-control-sm"
                                                           placeholder="Valid Date" ng-model="newIdentityCard.ValidUpto_TMP" date-picker date-detail="newIdentityCard.ValidUptoDet" after-days="1500" before-days="1500" />
                                                </div>
                                                <div class="col-sm-1 col-lg-1 col-md-1">
                                                    <label>Generate QR</label>
                                                    <div class="cstm-switch-btn-wrap">
                                                        <button type="button" ng-class="newIdentityCard.GenerateQR==true ? 'btn btn-sm btn-toggle active' : 'btn btn-sm btn-toggle'"
                                                                ng-aria-pressed="newIdentityCard.GenerateQR==true ? 'true' : 'false' "
                                                                autocomplete="off" ng-click="TestClickEmp(newIdentityCard)">
                                                            <div class="handle"></div>
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="col-sm-3 col-lg-3 col-md-3">
                                                    <label>Select Report</label>
                                                    <select name="comment-group" id="" form="" class="form-control form-control-sm select2" ng-change="PrintNormalIdCardEmp()" ng-model="newIdentityCard.RptTranId">
                                                        <option ng-value="0" ng-selected="true">Select Report</option>
                                                        <option ng-value="rt.RptTranId" ng-repeat="rt in newIdentityCard.TemplatesColl">{{rt.ReportName}}</option>
                                                    </select>
                                                </div>
                                                <div class="col-sm-2 col-lg-2 col-md-2 mt-4">
                                                    <a class="btn btn-secondary btn-sm ml-4" download="{{newIdentityCard.DepartmentId}}.zip" href="~/Academic/Report/DownloadEmpQrImage?DepartmentId={{newIdentityCard.DepartmentId}}&DesignationId={{newIdentityCard.DesignationId}}">
                                                        <i class="fa fa-download"></i>Download QR
                                                    </a>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-sm-11 col-lg-11 col-md-11">
                                                    <label>Select Employee(s)</label>
                                                    <select multiple class="form-control form-control-sm select2" ng-change="PrintEmployeeIdCard()" ng-model="newIdentityCard.EmployeeIdColl">
                                                        <option ng-value="0" ng-selected="true">** Select Employee **</option>
                                                        <option ng-value="st.EmployeeId" ng-repeat="st in EmpListForSelectionColl">{{st.Name}}-{{st.Code}}-{{st.MobileNo}}</option>
                                                    </select>
                                                </div>

                                            </div>
                                            <div class="row mt-2" id="schedule-report-table1">
                                                <iframe id="frmRptTabulationEmp" style='width: 100%;height:calc(100vh - 200px);background-color: white;visibility: visible;' frameborder='0' scrolling='yes'></iframe>
                                            </div>
                                        </form>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </section>
</div>

