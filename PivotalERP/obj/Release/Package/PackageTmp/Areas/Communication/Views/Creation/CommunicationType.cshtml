<script src="~/jslib/Communication/CommunicationType.js"></script>
<div class="hold-transition  layout-navbar-fixed" ng-app="myApp" ng-controller="CommunicationTypeController" ng-init="LoadData()">
    <section class="content">
        <div class="container-fluid">
            <section class="iframe-content-starts-here">
                <div class="tab-content" id="pills-tabContent">
                    <div class="tab-pane fade show active" id="pills-second" role="tabpanel" aria-labelledby="pills-second-tab">
                        <header class="if-page-have-nav-tabs">
                            <div class="row upper-tab">
                                <div class="col-md-12">
                                    <ul class="nav nav-tabs cstm-nav-tabs-border-bottom-active" id="myTab" role="tablist">
                                        <li class="nav-item" role="presentation">
                                            <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">General Communication</a>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-selected="false">Voice Communication</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </header>
                        <!-- end if-page-have-nav-tabs -->
                        <div class="tab-content" id="myTabContent">
                            <div class="tab-pane fade show active main-section" id="home" role="tabpanel" aria-labelledby="home-tab">
                                <div class="communication-section card p-2" id="communication-section">
                                    <header class="row">
                                        <div class="col-md-7">
                                            <div class="clearfix">
                                                <form class="form-inline mb-2">
                                                    <div class="input-group input-group-sm mr-sm-2">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text cstm">Show</span>
                                                        </div>
                                                        <select class="form-control border-left-0 border-right-0 pr-0" ng-model="perPage.CommunicationType">
                                                            <option ng-value="pp.value" ng-repeat="pp in perPageColl" ng-selected="pp.value==perPage.CommunicationType">{{pp.text}}</option>
                                                        </select>
                                                        <div class="input-group-append">
                                                            <span class="input-group-text bg-white"><small>entries</small></span>
                                                        </div>
                                                    </div>
                                                    <div class="input-group input-group-sm table-search-filed">
                                                        <input class="form-control form-control-navbar" type="search" placeholder="Search" aria-label="Search" ng-model="searchData.CommunicationType" />

                                                        <div class="input-group-append">
                                                            <button class="btn btn-default border-left-0" type="submit">
                                                                <i class="fas fa-search"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                        <!-- end col-md-8 -->
                                        <div class="col-md-5 text-right">
                                            <div class="dropdown dnld-file" data-toggle="tooltip" data-placement="top" title="Download File">
                                                <button class="btn btn-secondary btn-light btn-sm dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                    <i class="fas fa-download"></i>
                                                </button>
                                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                    <span class="dropdown-item">Choose an option:</span>
                                                    <a class="dropdown-item wait" export-excel table-id="'#CommunicationType'" sheet-name="'ClassWiseSubject'"><img src="~/wwwroot/dynamic/images/flaticons/excel.png" class="img-fluid exports-icon" alt="Excel image"> Excel</a>
                                                    <a class="dropdown-item wait" onClick="$('#CommunicationType').tableExport({type:'csv',escape:'false'});"><img src="~/wwwroot/dynamic/images/flaticons/csv.png" class="img-fluid exports-icon" alt="Excel image"> CSV</a>
                                                    <a class="dropdown-item wait" onClick="$('#CommunicationType').tableExport({type:'pdf',escape:'false'});"><img src="~/wwwroot/dynamic/images/flaticons/pdf.png" class="img-fluid exports-icon" alt="Excel image"> PDF</a>

                                                </div>
                                            </div>
                                            <a href="#" class="btn btn-secondary btn-light btn-sm" data-toggle="tooltip" data-placement="bottom" title="Print">
                                                <i class="fas fa-print"></i>
                                            </a>

                                            <button type="button" class="btn btn-sm btn-success" id="add-communication" style="min-width: 90px" ng-click="ClearCommunicationType()">
                                                <i class="fas fa-plus w-t"></i> Add Communication Type
                                            </button>
                                        </div>
                                    </header>
                                    <div class="table-responsive pb-3">
                                        <div class="table-scroll-x-y">
                                            <table id=""
                                                   class="table table-hover table-bordered th-fixed-top bg-white w-100">
                                                <thead class="text-nowrap">
                                                    <tr>
                                                        <th style="width: 40px">S.No.</th>
                                                        <th style="width: 180px">Communication Name</th>
                                                        <th style="width: 100px">Order No</th>
                                                        <th style="width: 180px">Subject</th>
                                                        <th style="width: 180px">Description</th>
                                                        <th style="width: 65px">Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr dir-paginate="cl in CommunicationTypeList | filter:searchData.CommunicationType | itemsPerPage: perPage.CommunicationType" current-page="currentPages.CommunicationType" pagination-id="CommunicationTypePagination">
                                                        <td>{{$index+1}}</td>
                                                        <td>{{cl.CommunicationName}}</td>
                                                        <td>{{cl.OrderNo}}</td>
                                                        <td>{{cl.Subject}}</td>
                                                        <td>{{cl.Description}}</td>

                                                        <td>
                                                            <a class="p-1" href="#" ng-click="GetCommunicationTypeId(cl)">
                                                                <i class="fas fa-edit text-info"></i>
                                                            </a>
                                                            <a class="p-1" href="#" ng-click="DelCommunicationTypeId(cl)">
                                                                <i class="fas fa-trash-alt text-danger"></i>
                                                            </a>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <!-- table end -->
                                    </div>
                                    <footer class="row align-items-center">
                                        <div class="col-md-12">
                                            <dir-pagination-controls pagination-id="CommunicationTypePagination" boundary-links="true" on-page-change="pageChangeHandler(newPageNumber)"></dir-pagination-controls>
                                        </div>
                                    </footer>
                                </div>
                                <!-- form area starts -->
                                <div id="Communication-form">
                                    <div class="card card-default">
                                        <div class="p-2">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="row">
                                                        <div class="col-md-6" id="meet-others">
                                                            <div class="form-group">
                                                                <label for="">Communication Name</label>
                                                                <input type="text" class="form-control form-control-sm" ng-model="newCommunicationType.CommunicationName" />
                                                            </div>
                                                        </div>

                                                        <div class="col-md-2">
                                                            <div class="form-group">
                                                                <label for="">Order No</label>
                                                                <input type="text" class="form-control form-control-sm" ng-model="newCommunicationType.OrderNo" />
                                                            </div>
                                                        </div>
                                                        <div class="col-md-2">
                                                            <div class="form-group mt-4">
                                                                <div class="custom-control custom-checkbox">
                                                                    <input class="custom-control-input" type="checkbox" id="customCheckbox4">
                                                                    <label for="customCheckbox4" class="custom-control-label">Is Default</label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-12">
                                                            <div class="form-group">
                                                                <label>Subject</label>
                                                                <textarea class="form-control form-control-sm" rows="1" placeholder="" ng-model="newCommunicationType.Description"></textarea>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-12">
                                                            <div class="form-group">
                                                                <label for="">Description</label>
                                                                <textarea class="textarea"
                                                                          placeholder="Place some text here"
                                                                          style="
                                                                  width: 100%;
                                                                  height: 200px;
                                                                  font-size: 14px;
                                                                  line-height: 18px;
                                                                  border: 1px solid #dddddd;
                                                                  padding: 10px;
                                                                " html-editor ng-model="newForward.Description"></textarea>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="time-label pb-3" style="margin-top: -10px">
                                            <span class="d-block border-0 p-1 text-center">
                                                <button type="button" class="btn btn-sm btn-info" id="back-to-list-communication"
                                                        style="min-width: 90px">
                                                    Back To List
                                                </button>
                                                <button type="button" class="btn btn-sm btn-default" style="min-width: 90px;" ng-click="ClearCommunicationType()">Reset</button>
                                                <button type="button" class="btn btn-sm btn-success" style="min-width: 90px;" ng-click="SaveUpdateCommunicationType()">{{newCommunicationType.Mode}}</button>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- second tab here -->
                            <div class="tab-pane fade main-section" id="profile" role="tabpanel" aria-labelledby="profile-tab">
                                <div class="Voice-section card p-2" id="Voice-section">
                                    <header class="row">
                                        <div class="col-md-7">
                                            <div class="clearfix">
                                                <form class="form-inline mb-2">
                                                    <div class="input-group input-group-sm mr-sm-2">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text cstm">Show</span>
                                                        </div>
                                                        <select class="form-control border-left-0 border-right-0 pr-0" ng-model="perPage.CommunicationType">
                                                            <option ng-value="pp.value" ng-repeat="pp in perPageColl" ng-selected="pp.value==perPage.CommunicationType">{{pp.text}}</option>
                                                        </select>
                                                        <div class="input-group-append">
                                                            <span class="input-group-text bg-white"><small>entries</small></span>
                                                        </div>
                                                    </div>
                                                    <div class="input-group input-group-sm table-search-filed">
                                                        <input class="form-control form-control-navbar" type="search" placeholder="Search" aria-label="Search" ng-model="searchData.CommunicationType" />

                                                        <div class="input-group-append">
                                                            <button class="btn btn-default border-left-0" type="submit">
                                                                <i class="fas fa-search"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                        <!-- end col-md-8 -->
                                        <div class="col-md-5 text-right">
                                            <div class="dropdown dnld-file" data-toggle="tooltip" data-placement="top" title="Download File">
                                                <button class="btn btn-secondary btn-light btn-sm dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                    <i class="fas fa-download"></i>
                                                </button>
                                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                    <span class="dropdown-item">Choose an option:</span>
                                                    <a class="dropdown-item wait" export-excel table-id="'#CommunicationType'" sheet-name="'ClassWiseSubject'"><img src="~/wwwroot/dynamic/images/flaticons/excel.png" class="img-fluid exports-icon" alt="Excel image"> Excel</a>
                                                    <a class="dropdown-item wait" onClick="$('#CommunicationType').tableExport({type:'csv',escape:'false'});"><img src="~/wwwroot/dynamic/images/flaticons/csv.png" class="img-fluid exports-icon" alt="Excel image"> CSV</a>
                                                    <a class="dropdown-item wait" onClick="$('#CommunicationType').tableExport({type:'pdf',escape:'false'});"><img src="~/wwwroot/dynamic/images/flaticons/pdf.png" class="img-fluid exports-icon" alt="Excel image"> PDF</a>

                                                </div>
                                            </div>
                                            <a href="#" class="btn btn-secondary btn-light btn-sm" data-toggle="tooltip" data-placement="bottom" title="Print">
                                                <i class="fas fa-print"></i>
                                            </a>

                                            <button type="button" class="btn btn-sm btn-success" id="add-Voice" style="min-width: 90px" ng-click="ClearCommunicationType()">
                                                <i class="fas fa-plus w-t"></i> Add Voice Communication
                                            </button>
                                        </div>
                                    </header>
                                    <div class="table-responsive pb-3">
                                        <div class="table-scroll-x-y">
                                            <table id=""
                                                   class="table table-hover table-bordered th-fixed-top bg-white w-100">
                                                <thead class="text-nowrap">
                                                    <tr>
                                                        <th style="width: 40px">S.No.</th>
                                                        <th style="width: 180px">Communication Name</th>
                                                        <th style="width: 100px">Order No</th>
                                                        <th style="width: 180px">Subject</th>
                                                        <th style="width: 65px">Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>1</td>
                                                        <td>Sms by mobile</td>
                                                        <td>1</td>
                                                        <td>Leave for work</td>
                                                        <td>
                                                            <a class="p-1" href="#">
                                                                <i class="fas fa-edit text-info"></i>
                                                            </a>
                                                            <a class="p-1" href="#">
                                                                <i class="fas fa-trash-alt text-danger"></i>
                                                            </a>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <!-- table end -->
                                    </div>
                                    <footer class="row align-items-center">
                                        <div class="col-md-12">
                                            <dir-pagination-controls pagination-id="CommunicationTypePagination" boundary-links="true" on-page-change="pageChangeHandler(newPageNumber)"></dir-pagination-controls>
                                        </div>
                                    </footer>
                                </div>
                                <!-- form area starts -->
                                <div id="Voice-form">
                                    <div class="card card-default">
                                        <div class="p-2">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="row">
                                                        <div class="col-md-6" id="meet-others">
                                                            <div class="form-group">
                                                                <label for="">Communication Name</label>
                                                                <input type="text" class="form-control form-control-sm" ng-model="newCommunicationType.CommunicationName" />
                                                            </div>
                                                        </div>

                                                        <div class="col-md-2">
                                                            <div class="form-group">
                                                                <label for="">Order No</label>
                                                                <input type="text" class="form-control form-control-sm" ng-model="newCommunicationType.OrderNo" />
                                                            </div>
                                                        </div>
                                                        <div class="col-md-2">
                                                            <div class="form-group mt-4">
                                                                <div class="custom-control custom-checkbox">
                                                                    <input class="custom-control-input" type="checkbox" id="customCheckbox43">
                                                                    <label for="customCheckbox43" class="custom-control-label">Is Default</label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-12">
                                                            <div class="form-group">
                                                                <label>Subject</label>
                                                                <textarea class="form-control form-control-sm" rows="1" placeholder="" ng-model="newCommunicationType.Description"></textarea>
                                                            </div>
                                                        </div>

                                                    </div>
                                                    <div class="row ">
                                                        <div class="col-md-6">
                                                            <div class="form-check">
                                                                <input type="radio" class="form-check-input" id="voice" name="Voicechange" ng-value="1" ng-model="newVoiceMessage.Voiceupload" />
                                                                <label class="form-check-label" for="voice">
                                                                    Text To Voice
                                                                </label>
                                                            </div>
                                                            <div class="card" style=" border: 1px solid #ccc;">
                                                                <div class="card-body">

                                                                    <div>
                                                                        <div class="row mt-2">
                                                                            <div class="col-md-12">
                                                                                <textarea class="form-control form-control-sm" ng-readonly="newVoiceMessage.Voiceupload!=1" rows="5"></textarea>
                                                                            </div>
                                                                        </div>
                                                                        <div class="row mt-3">
                                                                            <div class="col-md-3">
                                                                                <label class="mt-1">Select Language</label>
                                                                            </div>
                                                                            
                                                                            <div class="col-md-4">
                                                                                <select class="form-control form-control-sm select2" ng-disabled="newVoiceMessage.Voiceupload!=1">
                                                                                    <option>English</option>
                                                                                    <option>Nepali</option>
                                                                                    <option>Hindi</option>
                                                                                </select>
                                                                            </div>
                                                                        </div>
                                                                        <div class="row mt-3">
                                                                            <div class="col-md-3" id="expendvoicetranslateprogress">
                                                                                <button class="btn btn-sm btn-info" ng-value="3" ng-disabled="newVoiceMessage.Voiceupload!=1">Translate Audio</button>
                                                                            </div>
                                                                            <div class="col-md-6" id="progressbardiv">
                                                                                <div class="progress mt-2">
                                                                                    <div class="progress-bar bg-success" role="progressbar" ng-disabled="newVoiceMessage.Voiceupload!=3" style="width: 70%;" aria-valuenow="30" aria-valuemin="30" aria-valuemax="30">70%</div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class=" mt-3">
                                                                            <audio id="translateplayer" controls style="height: 36px; border: 1px solid #ccc; border-radius: 19px;"></audio>
                                                                            <i class="fas fa-times-circle text-danger" style="  color:#28a745;font-size: 20px; position:absolute; "></i>
                                                                        </div>

                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>

                                                        <div class="col-md-6">
                                                            <div class="form-check">
                                                                <input type="radio" class="form-check-input" id="audio" name="Voicechange" ng-value="2" ng-model="newVoiceMessage.Voiceupload" />
                                                                <label class="form-check-label" for="audio">
                                                                    Record Audio
                                                                </label>
                                                            </div>
                                                            <div class="card" style=" border: 1px solid #ccc;">
                                                                <div class="card-body">
                                                                    <div class="row">
                                                                        <div class="col-md-2">
                                                                            <audio id="recorder" muted hidden></audio>
                                                                            <div>
                                                                                <button class="btn-default btn btn-sm" ng-disabled="newVoiceMessage.Voiceupload!=2" id="start"><i class="fas fa-microphone mr-2"></i>Record</button>

                                                                            </div>
                                                                            @*<span>Saved Recording</span>*@
                                                                        </div>
                                                                        <div class="col-md-5">
                                                                            <audio id="player" controls style="height: 36px; border: 1px solid #ccc; border-radius: 19px;width:100%"></audio>
                                                                        </div>
                                                                        <div class="col-md-5">
                                                                            <button class="btn btn-sm btn-info" ng-disabled="newVoiceMessage.Voiceupload!=2" id="pause" ng-init="toggle = true" ng-click="toggle = !toggle">{{toggle ? '∎ Pause' : '► Start'}} </button>
                                                                            <button class="btn btn-sm btn-danger" ng-disabled="newVoiceMessage.Voiceupload!=2" id="stop"><i class="fas fa-microphone-alt-slash mr-2"></i>Stop </button>
                                                                        </div>
                                                                    </div>

                                                                    <div class="card mt-2">
                                                                        <div class="wrapperdrop">
                                                                            <div class="drop">
                                                                                <div class="cont">
                                                                                    <i class="fa fa-cloud-upload"></i>
                                                                                    <div class="">
                                                                                        <i class="fas fa-cloud-upload-alt"></i>
                                                                                    </div>
                                                                                    <div class="desc">
                                                                                        Drag and Drop your files to upload
                                                                                    </div>
                                                                                    <div class="browse">
                                                                                        Select Files To
                                                                                    </div>
                                                                                </div>
                                                                                <output id="list"></output><input ng-disabled="newVoiceMessage.Voiceupload!=2" ng-class="" id="files" multiple="true" name="files[]" type="file" style="height:200px;" />
                                                                            </div>
                                                                        </div>
                                                                        @*<div class="card-body p-0 m-0">
                        <form action="/file-upload" class="dropzone p-0" id="mydropzone" style="max-height: 150px; border: 1px solid #ccc;"></form>
                    </div>*@
                                                                    </div>
                                                                    <div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="time-label pb-3" style="margin-top: -10px">
                                            <span class="d-block border-0 p-1 text-center">
                                                <button type="button" class="btn btn-sm btn-info" id="back-to-list-Voice"
                                                        style="min-width: 90px">
                                                    Back To List
                                                </button>
                                                <button type="button" class="btn btn-sm btn-default" style="min-width: 90px;" ng-click="ClearCommunicationType()">Reset</button>
                                                <button type="button" class="btn btn-sm btn-success" style="min-width: 90px;" ng-click="SaveUpdateCommunicationType()">{{newCommunicationType.Mode}}</button>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </section>
        </div>
    </section>
</div>




