
<script src="~/jslib/Infrastructure/Floor.js"></script>
<div class="hold-transition  layout-navbar-fixed" ng-app="myApp" ng-controller="AddHostelController" ng-init="LoadData()">
    <!-- Main content -->
    <section class="content">
        <div class="container-fluid">
            <section class="iframe-content-starts-here" style="padding-top:50px!important">
                <div id="floor-list" class="card py-2">
                    <header class="row">
                        <div class="col-md-7">
                            <div class="clearfix">
                                <form class="form-inline">
                                    <div class="input-group input-group-sm mr-sm-2">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text cstm">Show</span>
                                        </div>
                                        <select class="form-control border-left-0 border-right-0 pr-0" ng-model="perPage.Floor">
                                            <option ng-value="pp.value" ng-repeat="pp in perPageColl" ng-selected="pp.value==perPage.Floor">{{pp.text}}</option>
                                        </select>
                                        <div class="input-group-append">
                                            <span class="input-group-text bg-white"><small>entries</small></span>
                                        </div>
                                    </div>
                                    <div class="input-group input-group-sm table-search-filed">
                                        <input class="form-control form-control-navbar"
                                               type="search" placeholder="Search"
                                               aria-label="Search" ng-model="searchData.Floor">
                                        <div class="input-group-append">
                                            <button class="btn btn-default border-left-0" type="submit">
                                                <i class="fas fa-search"></i>
                                            </button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>

                        <div class="col-md-5 text-right">
                            <div class="dropdown dnld-file" data-toggle="tooltip"
                                 data-placement="top" title="Download File">
                                <button class="btn btn-secondary btn-light btn-sm dropdown-toggle"
                                        type="button" id="dropdownMenuButton" data-toggle="dropdown"
                                        aria-haspopup="true" aria-expanded="false">
                                    <i class="fas fa-download"></i>
                                </button>
                                <div class="dropdown-menu dropdown-menu-right"
                                     aria-labelledby="dropdownMenuButton">
                                    <span class="dropdown-item">Choose an option:</span>
                                   
                                    <a class="dropdown-item wait" export-excel table-id="'#main-table'" sheet-name="'FloorList'"><img src="~/wwwroot/dynamic/images/flaticons/excel.png" class="img-fluid exports-icon" alt="Excel image"> Excel</a>
                                    <a class="dropdown-item wait" onClick="$('#main-table').tableExport({type:'csv',escape:'false'});"><img src="~/wwwroot/dynamic/images/flaticons/csv.png" class="img-fluid exports-icon" alt="Excel image"> CSV</a>

                                </div>
                            </div>
                            <a print-tbl table-id="'#main-table'" class="btn btn-secondary btn-light btn-sm wait" title="Print">
                                <i class="fas fa-print"></i>
                            </a>
                            <a href="#" class="btn btn-success btn-sm" id="add-floor"><i class="fas fa-plus w-t"></i> Add Floor</a>
                        </div>
                    </header>
                    <div class="table-scroll-x-y table-scroll">
                        <table id="main-table" class="main-table table table-sm table-bordered bg-white">
                            <thead>
                                <tr>
                                    <th style="width: 50px;">S.No.</th>
                                    <th style="width: 450px;">Floor Name</th>
                                    <th style="width: 50px;">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr dir-paginate="cl in FloorList | filter:searchData.Floor | itemsPerPage: perPage.Floor" current-page="currentPages.Floor" pagination-id="FloorPagination">
                                    <td>{{$index+1}}</td>
                                    <td>{{cl.Name}}</td>
                                    <td>
                                        <a class="p-1" href="#" ng-click="GetFloorById(cl)">
                                            <i class="fas fa-edit text-info"></i>
                                        </a>
                                        <a class="p-1" href="#" ng-click="DelFloorById(cl)">
                                            <i class="fas fa-trash-alt text-danger"></i>
                                        </a>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <footer class="row align-items-center">
                        <div class="col-md-12">
                            <dir-pagination-controls pagination-id="FloorPagination" boundary-links="true" on-page-change="pageChangeHandler(newPageNumber)" template-url="/Scripts/dirPagination.tpl.html">
                            </dir-pagination-controls>
                        </div>
                    </footer>
                </div>
                <!-- Floor Form Starts -->
                <div id="floor-form" class="card">
                    <div class="card-body py-2 px-0">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label>Floor Name</label>
                                    <input type="text" class="form-control form-control-sm" ng-model="newFloor.Name">
                                </div>
                            </div>
                        </div>
                        <div class="time-label">
                            <span class="d-block border-0 p-3 text-center">
                                <button type="button" class="btn btn-sm btn-info" id="back-btn-floor" style="min-width: 90px;">
                                    Back to
                                    List
                                </button>
                                <button type="button" class="btn btn-sm btn-default" style="min-width: 90px;" ng-click="ClearFloor()">Reset</button>
                                <button type="button" class="btn btn-sm btn-success" style="min-width: 90px;" ng-click="SaveUpdateFloor()">{{newFloor.Mode}}</button>
                            </span>
                        </div>
                    </div>
                </div>
                <!--Floor Form Ends -->
            </section>
        </div>
        <!--/. container-fluid -->
    </section>
    <!-- /.content -->
    <!--Building Photo Model -->
    <div class="modal fade" id="updatePhoto" tabindex="-1" aria-labelledby="updatePhotoLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="updatePhotoLabel">Upload Photo</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <i class="flaticon-close"></i>
                    </button>
                </div>
                <div class="modal-body text-center" border-0 pb-0" file-dropzone="[image/png, image/jpeg]"
                     data-max-file-size="3" ng-model="newBuilding.Photo_TMP" @*after-selected="AddBuildingPhoto()"*@ fileread="newBuilding.PhotoData">
                    <div class="photo-upload-wrap">
                        <span class="static-content">
                            <img ng-src="{{newBuilding.PhotoData  || newBuilding.ImagePath}}" class="img-fluid" id="imgPhoto">
                            <span>Drag & Drop your<br>image here</span>
                        </span>
                    </div>
                    <div class="text-muted pb-3">or</div>
                    <label for="choose-file" type="button" class="btn btn-secondary btn-light btn-sm">Upload Image</label>
                    <input id="choose-file" type="file" accept=".jpg,.jpeg,.pdf,doc,docx,application/msword,.png" style="display: none;" file-model ng-model="newBuilding.Photo_TMP" @*after-selected="AddBuildingPhoto()"*@ fileread="newBuilding.PhotoData" />
                    <a ng-click="ClearBuildingPhoto()" href="#" class="text-danger d-block mt-3">remove current image</a>
                </div>
                <div class="modal-footer justify-content-center">
                    <button type="button" class="btn btn-dafault" data-dismiss="modal">Ok</button>
                    @*<button type="button" class="btn btn-secondary px-4" ng-click="AddAuthorImage()">Save</button>*@
                </div>
            </div>
        </div>
    </div>

    <!-- Room Photo Model -->
    <div class="modal fade" id="updateRoom" tabindex="-1" aria-labelledby="updateRoomLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="updateRoomLabel">Upload Photo</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <i class="flaticon-close"></i>
                    </button>
                </div>
                <div class="modal-body text-center" border-0 pb-0" file-dropzone="[image/png, image/jpeg]"
                     data-max-file-size="3" ng-model="newRoom.PhotoRoom_TMP" @*after-selected="AddAboutUsPhoto()"*@ fileread="newRoom.PhotoDataRoom">
                    <div class="photo-upload-wrap">
                        <span class="static-content">
                            <img ng-src="{{newRoom.PhotoDataRoom || newRoom.ImagePath}}" class="img-fluid" id="imgRoom">
                            <span>Drag & Drop your<br>image here</span>
                        </span>
                    </div>
                    <div class="text-muted pb-3">or</div>
                    <label for="choose-fileRoom" type="button" class="btn btn-secondary btn-light btn-sm">Upload Image</label>
                    <input id="choose-fileRoom" type="file" accept=".jpg,.jpeg,.pdf,doc,docx,application/msword,.png" style="display: none;" file-model ng-model="newRoom.PhotoRoom_TMP" @*after-selected="AddStudentPhoto()"*@ fileread="newRoom.PhotoDataRoom" />
                    <a ng-click="ClearRoomPhotoRoom()" href="#" class="text-danger d-block mt-3">remove current image</a>
                </div>
                <div class="modal-footer justify-content-center">
                    <button type="button" class="btn btn-dafault" data-dismiss="modal">Ok</button>
                    @*<button type="button" class="btn btn-secondary px-4" ng-click="AddAboutUsImage()">Save</button>*@
                </div>
            </div>
        </div>
    </div>

</div>

