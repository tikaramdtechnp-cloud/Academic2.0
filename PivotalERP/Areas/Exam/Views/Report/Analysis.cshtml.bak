<link rel="stylesheet" href="~/wwwroot/plugins/ag-grid/css/ag-grid.css">
<link rel="stylesheet" href="~/wwwroot/plugins/ag-grid/css/ag-theme-alpine.css">
<script src="~/wwwroot/plugins/ag-grid/js/ag-grid-community.min.noStyle.js"></script>

<link href="~/pivot-orb/orb.css" rel="stylesheet" />
<script src="~/pivot-orb/react-0.12.2.js"></script>
<script src="~/pivot-orb/orb.js"></script>
<link rel="stylesheet" type="text/css" href="~/pivot/pivot.css">
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js"></script>
<script type="text/javascript" src="~/pivot/pivot.js"></script>
<script type="text/javascript" src="~/pivot/gchart_renderers.js"></script>
<script type="text/javascript" src="~/pivot/export_renderers.js"></script>
<script>
    var entityExamType =@Convert.ToInt32(Dynamic.BusinessEntity.Global.RptFormsEntity.ExamTypeAnalysis);
    var entityExamTypeGroup =@Convert.ToInt32(Dynamic.BusinessEntity.Global.RptFormsEntity.ExamTypeGroupAnalysis);
</script>
<script src="~/jslib/exam/reporting/Analysis.js?v=20220822"></script>
<div class="hold-transition  layout-navbar-fixed" ng-app="myApp" ng-controller="examAnalysisController" ng-init="LoadData()">
    <!-- Main content -->
    <section class="content">
        <div class="container-fluid">
            <section class="iframe-content-starts-here">
                <div class="tab-content">
                    <!-- Third Tab Content -->
                    <div id="root">
                        <div class="card-primary card-tabs">
                            <header class="if-page-have-nav-tabs px-2">
                                <div class="row upper-tab">
                                    <div class="col-md-10">
                                        <ul class="nav nav-tabs cstm-nav-tabs-border-bottom-active" id="myTab"
                                            role="tablist">
                                            <li class="nav-item" role="presentation">
                                                <a class="nav-link active" id="home-tab" data-toggle="tab"
                                                   href="#home" role="tab" aria-controls="home"
                                                   aria-selected="true">Exam Type Wise</a>
                                            </li>
                                            <li class="nav-item" role="presentation">
                                                <a class="nav-link" id="teachersubject-tab" data-toggle="tab"
                                                   href="#teachersubject" role="tab" aria-controls="teachersubject"
                                                   aria-selected="true">Teacher Subject Wise</a>
                                            </li>
                                            <li class="nav-item" role="presentation">
                                                <a class="nav-link" id="profile-tab" data-toggle="tab"
                                                   href="#profile" role="tab" aria-controls="profile"
                                                   aria-selected="false">Exam Type Group Wise</a>
                                            </li>
                                            <li class="nav-item" role="presentation">
                                                <a class="nav-link" id="contact-tab" data-toggle="tab"
                                                   href="#contact" role="tab" aria-controls="contact"
                                                   aria-selected="false">Parent Exam Type Group Wise</a>
                                            </li>
                                        </ul>
                                    </div>

                                </div>
                            </header>
                            <div class="tab-content" id="myTabContent">
                                <div class="tab-pane fade show active main-section" id="home" role="tabpanel"
                                     aria-labelledby="home-tab">
                                    <div class="card">
                                        <div class="mt-1">
                                            <div class="row">
                                                <div class="col-md-3">
                                                    <label>Exam </label>
                                                    <select name="comment-group" id="" form="" class="form-control form-control-sm select2" ng-model="newExamType.ExamTypeId">
                                                        <option value="0" selected disabled>**Select Exam**</option>
                                                        <option ng-value="cl.ExamTypeId" ng-repeat="cl in ExamTypeList">{{cl.text}}</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-3">
                                                    <label>Report Type </label>
                                                    <select name="comment-group" id="" form="" class="form-control form-control-sm" ng-model="newExamType.ReportType">
                                                        <option ng-value="cl.id" ng-repeat="cl in ReportTypes" ng-selected="cl.id==newExamType.ReportType">{{cl.text}}</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-3 mt-4">
                                                    <div class="col-sm-4 col-lg-4 col-md-4">
                                                        <button type="button" class="btn btn-sm btn-success" style="min-width: 80px;" ng-click="GetDataForMatrix()"><i class="fas fa-sync-alt mr-2"></i>Load</button>
                                                    </div>
                                                </div>
                                                <div class="col-md-3 mt-4" ng-show="newExamType.ReportType==2">
                                                    <button type="button" class="btn btn-sm btn-default" style="min-width: 90px;" ng-click="ExportExamType()">Export Data</button>
                                                    <button type="button" class="btn btn-sm btn-default" style="min-width: 90px;" ng-click="PrintExamType()">Print</button>
                                                </div>
                                            </div>
                                            <div class="row mt-1" ng-show="newExamType.ReportType==1">
                                                <div class="col-md-12">
                                                    <div id="datatable" style="height: calc(100vh - 250px);width: 100%;"></div>
                                                </div>
                                            </div>
                                            <div class="row mt-1" ng-show="newExamType.ReportType==2">
                                                <div class="col-md-12">
                                                    <div id="datatable22" style="height: calc(100vh - 10rem);width: 100%;" class="ag-theme-balham" ag-grid="gridOptions"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="tab-pane fade show main-section" id="teachersubject" role="tabpanel"
                                     aria-labelledby="teachersubject-tab">
                                    <div class="card">
                                        <div class="mt-1">
                                            <div class="row">
                                                <div class="col-md-3">
                                                    <label>Exam </label>
                                                    <select name="comment-group" id="" form="" class="form-control form-control-sm select2" ng-model="newTeacherSubject.ExamTypeId" ng-change="ChangeTeachExam('e')">
                                                        <option value="0" selected>**Select Exam**</option>
                                                        <option ng-value="cl.ExamTypeId" ng-repeat="cl in ExamTypeList" ng-selected="cl.ExamTypeId==newTeacherSubject.ExamTypeId">{{cl.text}}</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-3">
                                                    <label>Exam Group</label>
                                                    <select name="comment-group" id="" form="" class="form-control form-control-sm select2" ng-model="newTeacherSubject.ExamTypeGroupId" ng-change="ChangeTeachExam('eg')">
                                                        <option value="0" selected>**Select Exam Group**</option>
                                                        <option ng-value="cl.ExamTypeGroupId" ng-repeat="cl in ExamTypeGroupList" ng-selected="cl.ExamTypeGroupId==newTeacherSubject.ExamTypeGroupId">{{cl.text}}</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-2">
                                                    <label>Report Type </label>
                                                    <select name="comment-group" id="" form="" class="form-control form-control-sm" ng-model="newTeacherSubject.ReportType">
                                                        <option ng-value="cl.id" ng-repeat="cl in ReportTypes" ng-selected="cl.id==newExamType.ReportType">{{cl.text}}</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-1 mt-4">
                                                    <div class="col-sm-4 col-lg-4 col-md-4">
                                                        <button type="button" class="btn btn-sm btn-success" style="min-width: 90px;" ng-click="GetEmpSubDataForMatrix()"><i class="fas fa-sync-alt mr-2"></i>Load </button>
                                                    </div>
                                                </div>
                                                <div class="col-md-2 mt-4" ng-show="newTeacherSubject.ReportType==2">
                                                    <button type="button" class="btn btn-sm btn-default" style="min-width: 90px;" ng-click="TeacherSubjectExportExamType()">Export Data</button>
                                                    <button type="button" class="btn btn-sm btn-default" style="min-width: 90px;" ng-click="PrintTeacherSubjectExamType()">Print</button>
                                                </div>
                                            </div>
                                            <div class="row mt-1" ng-show="newTeacherSubject.ReportType==1">
                                                <div class="col-md-12">
                                                    <div id="datatableTS" style="height: calc(100vh - 250px);width: 100%;"></div>
                                                </div>
                                            </div>
                                            <div class="row mt-1" ng-show="newTeacherSubject.ReportType==2">
                                                <div class="col-md-12">
                                                    <div id="datatable22TS" style="height: calc(100vh - 10rem);width: 100%;" class="ag-theme-balham" ag-grid="gridOptionsTS"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="tab-pane fade main-section" id="profile" role="tabpanel"
                                     aria-labelledby="profile-tab">
                                    <div class="card">
                                        <div class="mt-1">
                                            <div class="row">
                                                <div class="col-md-3">
                                                    <label>Exam Type Group</label>
                                                    <select name="comment-group" id="" form="" class="form-control form-control-sm select2" ng-model="newExamTypeGroup.ExamTypeGroupId">
                                                        <option value="0" selected disabled>Select Exam</option>
                                                        <option ng-value="cl.ExamTypeGroupId" ng-repeat="cl in ExamTypeGroupList">{{cl.text}}</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-3">
                                                    <label>Report Type </label>
                                                    <select name="comment-group" id="" form="" class="form-control form-control-sm" ng-model="newExamTypeGroup.ReportType">
                                                        <option ng-value="cl.id" ng-repeat="cl in ReportTypes" ng-selected="cl.id==newExamTypeGroup.ReportType">{{cl.text}}</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-3 mt-4">
                                                    <div class="col-sm-4 col-lg-4 col-md-4">
                                                        <button type="button" class="btn btn-sm btn-success" style="min-width: 90px;" ng-click="GetDataForMatrixGroup()"><i class="fas fa-sync-alt mr-2"></i>Load</button>
                                                    </div>
                                                </div>
                                                <div class="col-md-3 mt-4" ng-show="newExamTypeGroup.ReportType==2">
                                                    <button type="button" class="btn btn-sm btn-default" style="min-width: 90px;" ng-click="ExportExamTypeGroup()">Export Data</button>
                                                    <button type="button" class="btn btn-sm btn-default" style="min-width: 90px;" ng-click="PrintExamTypeGroup()">Print</button>
                                                </div>
                                            </div>
                                            <div class="row mt-1" ng-show="newExamTypeGroup.ReportType==1">
                                                <div class="col-md-12">
                                                    <div id="datatable1" style="height: calc(100vh - 250px);width: 100%;"></div>
                                                </div>
                                            </div>
                                            <div class="row mt-1" ng-show="newExamTypeGroup.ReportType==2">
                                                <div class="col-md-12">
                                                    <div id="datatable21" style="height: calc(100vh - 10rem);width: 100%;" class="ag-theme-balham" ag-grid="gridOptions1"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade main-section" id="contact" role="tabpanel"
                                     aria-labelledby="contact-tab">

                                    ....
                                </div>
                            </div>
                            <!-- /.card -->
                        </div>
                    </div>

                </div>

            </section>
            <!-- /.row -->
        </div>
        <!--/. container-fluid -->
    </section>
    <!-- /.content -->

    <div class="modal fade bd-example-modal-xl sales-invoice-page-modal" id="FrmPrintReport" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenter2Title" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-xl" role="document" style="min-width:1300px;">
            <div class="modal-content">
                <div class="modal-header">
                    <h6 class="modal-title" id="exampleModalCenterTitle">Report Viewer</h6>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <iframe id="frmRpt" style='width: 100%; height: 600px; background-color: white; visibility:visible;' frameborder='0' scrolling='yes'></iframe>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


