<script src="~/jslib/Infirmary/StudentInfirmary.js"></script>
<div class="hold-transition  layout-navbar-fixed" ng-app="myApp" ng-controller="StudentInfirmaryController" ng-init="LoadData()">
    <!-- Main content -->
    <section class="content">
        <section class="iframe-content-starts-here" style="padding-top:47px!important;">
            <div class="card-body">
                <div class="row">
                    <div class="col-md-2" style="max-width:110px;">
                        <label>Select Student</label>
                    </div>
                    <div class="col-sm-9 col-lg-9 col-md-9 ">
                        <div class="input-group-prepend">
                            @*<select class="input-group-text dropdown-toggle p-0" style="outline: none; border-top-right-radius: unset; border-bottom-right-radius: unset;
                                                              margin-right: -3px;  z-index: 1; " ng-model="newDet.SelectStudent">
                                <option ng-repeat="ss in StudentSearchOptions" value="{{ss.value}}" ng-selected="{{ss.value==newDet.SelectStudent}}">
                                    {{ss.text}}
                                </option>
                            </select>*@
                            <select class="form-control select2 form-control-sm" all-student ng-model="newDet.StudentId" student-detail="newStudentLedger.StudentDetails" side-bar-data="newTC.SideBarData" search-by="newDet.SelectStudent" include-left="newDet.ShowLeftStudent" confirm-action="ChangeStudent()">
                            </select>
                           
                        </div>
                    </div>
                </div>
                <div class="py-2 mt-2" style="border: 1px solid #ccc; background: #e7f0e6 ">
                    <div class="row">
                        <div class="col-md-2">
                            <img ng-src="{{newDet.PhotoPath}}"
                                 class="img-fluid ml-5"
                                 @*alt="Student Image"*@
                                 style="max-width: 108px" /><br />

                        </div>
                        <div class="col-md-10">
                            <div class="row">
                                <div class="col-md-12">
                                    <h5>{{newDet.FirstName}} {{newDet.MiddleName}} {{newDet.LastName}}</h5><span></span>
                                </div>
                                <div class="col-md-12 mt-2">
                                    <div class="row">
                                        <div class="col-md-3">
                                            <label for="">Admission No: <b>{{newDet.RegNo}}</b></label>
                                        </div>
                                        <div class="col-md-3">
                                            <label for="">Class: <b>{{newDet.ClassName}} - {{newDet.SectionName}}</b></label>
                                        </div>
                                        <div class="col-md-3">
                                            <label for="">Roll No: <b>{{newDet.RollNo}}</b></label>
                                        </div>
                                        <div class="col-md-3">
                                            <label for="">Primary Contact No: <b>{{newDet.ContactNo}}</b></label>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-3">
                                            <label for="">Student Type: <b>{{newDet.StudentType}}</b></label>
                                        </div>
                                        <div class="col-md-3">
                                            <label for="">Category: <b>{{newDet.Category}}</b></label>
                                        </div>
                                        <div class="col-md-3">
                                            <label for="">Address: <b>{{newDet.Address}}</b></label>
                                        </div>
                                        <div class="col-md-3">
                                            <label for="">Father Name: <b>{{newDet.FatherName}}</b></label>
                                        </div>
                                        <div class="col-md-3">
                                            <label for="">Father Contact No: <b>{{newDet.F_ContactNo}}</b></label>
                                        </div>
                                        <div class="col-md-3">
                                            <label for="">Guardian Name: <b>{{newDet.GuardianName}}</b></label>
                                        </div>
                                        <div class="col-md-3">
                                            <label for="">Guardian Contact No: <b>{{newDet.G_ContactNo}}</b></label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div style="border:1px solid #ccc">
                    <div class="row">
                        <div class="col-sm" style="max-width: 135px;">
                            <div class="nav flex-column nav-tabs h-100" id="vert-tabs-tab" role="tablist" aria-orientation="vertical" style="background-color: #e7f0e6">
                                <a class="nav-link active" id="vert-tabs-history-tab" data-toggle="pill" href="#vert-tabs-history" role="tab" aria-controls="vert-tabs-history" aria-selected="false" style="border-bottom: 3px solid #fff;">Past Medical History</a>
                                <a class="nav-link" id="vert-tabs-school-tab" data-toggle="pill" href="#vert-tabs-school" role="tab" aria-controls="vert-tabs-school" aria-selected="false" style="border-bottom: 3px solid #fff;">Health Issues Observed at School</a>
                                <a class="nav-link" id="vert-tabs-bmi-tab" data-toggle="pill" href="#vert-tabs-bmi" role="tab" aria-controls="vert-tabs-bmi" aria-selected="false" style="border-bottom: 3px solid #fff;">General Checkup</a>
                                <a class="nav-link" id="vert-tabs-immunization-tab" data-toggle="pill" href="#vert-tabs-immunization" role="tab" aria-controls="vert-tabs-immunization" aria-selected="false" style="border-bottom: 3px solid #fff;">Health Immunization</a>
                                <a class="nav-link" id="vert-tabs-evaluation-tab" data-toggle="pill" href="#vert-tabs-evaluation" role="tab" aria-controls="vert-tabs-evaluation" aria-selected="false" style="border-bottom: 3px solid #fff;">Clinical Lab Evaluation</a>
                            </div>
                        </div>
                        <div class="col-sm">
                            <div class="tab-content" id="vert-tabs-tabContent">
                                <!--Past Medical History Tab Starts-->
                                <div class="tab-pane fade  show active" id="vert-tabs-history" role="tabpanel" aria-labelledby="vert-tabs-history-tab">
                                    <div class="card p-2" id="pastlist">
                                        <header class="row">
                                            <div class="col-md-7">
                                                <div class="clearfix">
                                                    <form class="form-inline">
                                                        <div class="input-group input-group-sm table-search-filed">
                                                            <input class="form-control form-control-navbar"
                                                                   type="search" placeholder="Search" ng-model="searchData.PastHistory"
                                                                   aria-label="Search">
                                                            <div class="input-group-append">
                                                                <button class="btn btn-default border-left-0"
                                                                        type="submit">
                                                                    <i class="fas fa-search"></i>
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                            <!-- end col-md-8 -->
                                            <div class="col-md-5 text-right">
                                                <div class="dropdown dnld-file" data-toggle="tooltip"
                                                     data-placement="top" title="Download File">
                                                    <button class="btn btn-secondary btn-light btn-sm dropdown-toggle" type="button"
                                                            id="dropdownMenuButton" data-toggle="dropdown"
                                                            aria-haspopup="true" aria-expanded="false">
                                                        <i class="fas fa-download"></i>
                                                    </button>
                                                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                        <span class="dropdown-item">Choose an option:</span>
                                                        <a class="dropdown-item wait" ><img src="~/wwwroot/dynamic/images/flaticons/excel.png" class="img-fluid exports-icon" alt="Excel image"> Excel</a>
                                                        <a class="dropdown-item wait" onClick="$('#PastMedicalHistory').tableExport({type:'csv',escape:'false'});"><img src="~/wwwroot/dynamic/images/flaticons/csv.png" class="img-fluid exports-icon" alt="Excel image"> CSV</a>
                                                        <a class="dropdown-item wait" onClick="$('#PastMedicalHistory').tableExport({type:'pdf',escape:'false'});"><img src="~/wwwroot/dynamic/images/flaticons/pdf.png" class="img-fluid exports-icon" alt="Excel image"> PDF</a>
                                                    </div>
                                                </div>
                                                <a href="#" class="btn btn-secondary btn-light btn-sm"
                                                   data-toggle="tooltip" data-placement="top" title="Print">
                                                    <i class="fas fa-print"></i>
                                                </a>
                                                <button type="button"
                                                        class="btn btn-sm btn-success"
                                                        id="add-past-btn"
                                                        style="min-width: 90px" ng-click="ClearPastHistory();">
                                                    <i class="fas fa-plus w-t"></i> Add Past History
                                                </button>
                                            </div>
                                        </header>
                                        <div>
                                            <div class="card" style="border: 1px solid #ccc; background: #e7f0e636" ng-repeat="C in PastMedicalHistoryList">
                                                <div class="card-header py-2" style="background: #f7f7f7">
                                                    <div class="row" data-card-widget="collapse">
                                                        <div class="col-md-4">
                                                            <label><b>Date : {{C.ObservedDate}}</b></label>
                                                        </div>
                                                        <div class="col-md-7">
                                                            <label><b>Health Issue : {{C.HealthIssue}}</b></label>
                                                        </div>
                                                        <div class="col-md-1">
                                                            <a href="#" class="btn btn-secondary btn-light btn-sm"
                                                               data-toggle="tooltip" data-placement="top" title="Edit" ng-click="GetPastHistoryById(C)">
                                                                <i class="fas fa-edit text-info"></i>
                                                            </a>
                                                            <a href="#" class="btn btn-secondary btn-light btn-sm" data-card-widget="collapse"
                                                               data-toggle="tooltip" data-placement="top" title="Delete" ng-click="DelPastHistoryById(C)">
                                                                <i class="fas fa-trash text-danger"></i>
                                                            </a>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="card-body">
                                                    <div class="row">
                                                        <div class="col-md-9">
                                                            <label>Details :<b>{{C.Details}}</b> </label>
                                                        </div>
                                                        <div class="col-md-3">
                                                            <label>Medicine Given :<b>{{ (C.MedicineTaken == 1) ? 'Yes' : 'No' }}</b> </label>
                                                        </div>
                                                    </div>
                                                    <div class="table-responsive">
                                                        <div class="">
                                                            <table id="" class="table table-hover table-bordered th-fixed-top bg-white w-100">
                                                                <thead>
                                                                    <tr>
                                                                        <th style="width: 200px">Medicine Name</th>
                                                                        <th style="width: 100px">No of Dose</th>
                                                                        <th style="width: 120px">Duration(In Hrs)</th>
                                                                        <th style="width: 110px">No of Days</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr>
                                                                        <td>Acetaminophen </td>
                                                                        <td>3</td>
                                                                        <td>8 Hours</td>
                                                                        <td>7</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <p class="mb-0">Prescription :<b>{{C.Prescription}} </b></p>
                                                        </div>
                                                    </div>
                                                    <label><b>Attached Documents</b></label>
                                                    <div class="row">
                                                        <div class="col-md-1">
                                                            <a href="~/wwwroot/dynamic/images/pdf.jpg" target="_blank">  <img src="~/wwwroot/dynamic/images/pdf.jpg" style="max-height:55px" /></a>
                                                        </div>
                                                        <div class="col-md-1">
                                                            <a href="~/wwwroot/dynamic/images/pdf.jpg" target="_blank">  <img src="~/wwwroot/dynamic/images/pdf.jpg" style="max-height:55px" /></a>
                                                        </div>
                                                        <div class="col-md-1">
                                                            <a href="~/wwwroot/dynamic/images/pdf.jpg" target="_blank">  <img src="~/wwwroot/dynamic/images/pdf.jpg" style="max-height:55px" /></a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                           
                                        </div>
                                    </div>

                                    <div id="pastform" class="p-4">
                                        <div class="row">
                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label>Health Issue/Disease</label>
                                                    <select class="form-control form-control-sm select2" @*multiple*@ ng-model="newPastHistory.HealthIssueId">
                                                        <option ng-value="d.HealthIssueId" ng-repeat="d in HealthIssuelist" ng-selected="newPastHistory.HealthIssueId==d.HealthIssueId">{{d.Name}}</option>
                                                    </select>
                                                </div>
                                            </div>

                                            <div class="col-md-2">
                                                <label>Observed On</label>
                                                <input type="text" class="form-control form-control-sm" date-picker ng-model="newPastHistory.ObservedDate_TMP" date-detail="newPastHistory.ObservedDateDet">
                                            </div>
                                            <div class="col-md-7">
                                                <label>Details</label>
                                                <textarea class="form-control form-control-sm" rows="1" ng-model="newPastHistory.Details"></textarea>
                                            </div>
                                            <div class="col-md-12">
                                                <label>Prescription</label>
                                                <textarea class="form-control form-control-sm" rows="2"  ng-model="newPastHistory.Prescription"></textarea>
                                            </div>
                                            <div class="col-md-2">
                                                <div class="form-group">
                                                    <label>Medicine taken?</label>
                                                    <div class="d-flex">
                                                        <div class="form-check">
                                                            <label class="form-check-label">
                                                                <input type="radio"
                                                                       class="form-check-input"
                                                                       name="optradio" ng-value="true" ng-model="newPastHistory.MedicineTaken" />Yes
                                                            </label>
                                                        </div>
                                                        <div class="form-check ml-3">
                                                            <label class="form-check-label">
                                                                <input type="radio"
                                                                       class="form-check-input"
                                                                       name="optradio" ng-value="false" ng-model="newPastHistory.MedicineTaken" />No
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="table-responsive" ng-show="newPastHistory.MedicineTaken==true">
                                            <div class="">
                                                <table id="" class="table table-hover table-bordered th-fixed-top bg-white w-100">
                                                    <thead>
                                                        <tr>
                                                            <th style="width: 200px">Medicine Name</th>
                                                            <th style="width: 100px">No of Dose</th>
                                                            <th style="width: 120px">Duration (In Hrs)</th>
                                                            <th style="width: 100px">No of Days</th>
                                                            <th style="width: 80px">Action</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat="mDet in newPastHistory.StudentPastMedicineDetColl">
                                                            <td>
                                                                <select class="form-control form-control-sm select2" ng-model="mDet.MedicineId">
                                                                    <option ng-value="M.ProductId" ng-repeat="M in MedicalProductlist" ng-selected="mDet.MedicineId==M.ProductId">{{M.Name}}</option>
                                                                </select>
                                                            </td>
                                                            <td><input type="text" class="form-control form-control-sm" ng-model="mDet.NoOfDose"></td>
                                                            <td><input type="text" class="form-control form-control-sm" ng-model="mDet.Duration"></td>
                                                            <td><input type="text" class="form-control form-control-sm" ng-model="mDet.NoOfDays"></td>
                                                            <td>
                                                                <a class="p-1" ng-click="AddMedicineDetailsPastHistory($index)">
                                                                    <i class="fas fa-plus text-secondary"></i>
                                                                </a>
                                                                <a class="p-1" ng-click="DelMedicineDetailsPastHistory($index)">
                                                                    <i class="fas fa-trash-alt text-danger"></i>
                                                                </a>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>

                                        <div class="card" style="border:1px solid #ccc">
                                            <div class="card-header py-2" style="background: #f7f7f7">
                                                <h6 class="mb-0">Medical Documents (If any)</h6>
                                            </div>
                                            <div class="card-body">
                                                <div class="pb-2 add-more-than-one-form-block">
                                                    <form class="mb-0">
                                                        <article>
                                                            <div class="row">
                                                                <div class="col-sm-2">
                                                                    <div class="form-group">
                                                                        <label>Type Of Document</label>
                                                                        <select class="form-control form-control-sm select2" ng-model="docType1">
                                                                            <option ng-value="dc" ng-repeat="dc in DocumentTypeList">{{dc.text}}</option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                                <div class="col-sm-10">
                                                                    <div class="row">
                                                                        <div class="col-sm-4">
                                                                            <div class="form-group">
                                                                                <label>Attach Document</label>
                                                                                <div class="form-group">
                                                                                    <input type="file" id="flMoreFiles" class="form-control-file form-control form-control-sm border bg-white" file-model ng-model="attachFile1">
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <div class="form-group">
                                                                                <label>Description</label>
                                                                                <input type="text" class="form-control form-control-sm"
                                                                                       ng-model="docDescription1"
                                                                                       placeholder="">
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-sm-2">
                                                                            <div class="d-flex">
                                                                                <div>
                                                                                    <label class="invisible d-block">for height</label>
                                                                                    <button type="button" class="btn btn-sm btn-outline-secondary light-btn" ng-click="AddMoreFilesReceived(attachFile1,docType1,docDescription1)"><i class="fas fa-plus"></i> Add More</button>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </article>
                                                    </form>
                                                </div>
                                                <div class="pb-3">
                                                    <div class="table-responsive">
                                                        <table class="table table-hover border bg-white">
                                                            <thead>
                                                                <tr>
                                                                    <th scope="col" style="width: 20px">S.No.</th>
                                                                    <th scope="col" style="width: 40%">Document Type</th>
                                                                    <th scope="col">File Size</th>
                                                                    <th scope="col">Description</th>
                                                                    <th scope="col" style="width: 100px">Action</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr ng-repeat="ac in newPastHistory.StudentPastMedicalDocumentsColl">
                                                                    <th scope="row">{{$index+1}}</th>
                                                                    <td>{{(DocumentTypeList | findById:'DocumentTypeId':ac.DocumentTypeId).Name}}</td>
                                                                    <td>{{ac.Name}}</td>
                                                                    <td>{{ac.Description}}</td>
                                                                    <td>
                                                                        <div>
                                                                            <a class="p-1" href="#" data-toggle="tooltip" data-placement="top" title="" ng-click="ShowPersonalImg(ac)" data-original-title="View doc">
                                                                                <i class="fas fa-eye text-secondary"></i>
                                                                            </a>
                                                                            <a ng-hide="ac.DocPath==null" class="p-1" href="{{ac.DocPath}}" download="" data-toggle="tooltip" data-placement="top" title="" data-original-title="Download doc.">
                                                                                <i class="fas fa-download  text-info"></i>
                                                                            </a>
                                                                            <a class="p-1" data-toggle="tooltip" data-placement="top" title="" data-original-title="Delete doc." ng-click="delAttachmentDoc($index)">
                                                                                <i class="fas fa-trash-alt text-danger"></i>
                                                                            </a>
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="time-label mt-3">
                                            <span class="d-block border-0 p-3 text-center">
                                                <button type="button"
                                                        class="btn btn-sm btn-info"
                                                        id="back-past-list"
                                                        style="min-width: 90px">
                                                    Back to List
                                                </button>
                                                <button type="button" class="btn btn-sm btn-default" style="min-width: 90px;" ng-click="ClearPastHistory()">Reset</button>
                                                <button type="button" class="btn btn-sm btn-success" style="min-width: 90px;" ng-click="SaveUpdatePastMedicalHistory()">{{newPastHistory.Mode}}</button>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <!--Health Issues Observed at School-->
                                <div class="tab-pane fade" id="vert-tabs-school" role="tabpanel" aria-labelledby="vert-tabs-school-tab">
                                    <div class="card p-2">
                                        <div id="healthissuelist">
                                            <header class="row">
                                                <div class="col-md-7">
                                                    <div class="clearfix">
                                                        <form class="form-inline">
                                                            <div class="input-group input-group-sm table-search-filed">
                                                                <input class="form-control form-control-navbar"
                                                                       type="search" placeholder="Search" ng-model="searchData.HealthIssues"
                                                                       aria-label="Search">
                                                                <div class="input-group-append">
                                                                    <button class="btn btn-default border-left-0"
                                                                            type="submit">
                                                                        <i class="fas fa-search"></i>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                                <!-- end col-md-8 -->
                                                <div class="col-md-5 text-right">
                                                    <div class="dropdown dnld-file" data-toggle="tooltip"
                                                         data-placement="top" title="Download File">
                                                        <button class="btn btn-secondary btn-light btn-sm dropdown-toggle" type="button"
                                                                id="dropdownMenuButton" data-toggle="dropdown"
                                                                aria-haspopup="true" aria-expanded="false">
                                                            <i class="fas fa-download"></i>
                                                        </button>
                                                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                            <span class="dropdown-item">Choose an option:</span>
                                                            <a class="dropdown-item wait"><img src="~/wwwroot/dynamic/images/flaticons/excel.png" class="img-fluid exports-icon" alt="Excel image"> Excel</a>
                                                            <a class="dropdown-item wait" onClick="$('#HealthIssues').tableExport({type:'csv',escape:'false'});"><img src="~/wwwroot/dynamic/images/flaticons/csv.png" class="img-fluid exports-icon" alt="Excel image"> CSV</a>
                                                           
                                                        </div>
                                                    </div>
                                                    <a href="#" class="btn btn-secondary btn-light btn-sm"
                                                       data-toggle="tooltip" data-placement="top" title="Print">
                                                        <i class="fas fa-print"></i>
                                                    </a>

                                                    <button type="button"
                                                            class="btn btn-sm btn-success"
                                                            id="add-issue-btn"
                                                            style="min-width: 90px">
                                                        <i class="fas fa-plus w-t"></i> Add Health Issue
                                                    </button>
                                                </div>
                                            </header>
                                            <div class="card" style="border: 1px solid #ccc; background: #e7f0e636" ng-repeat="M in StudentHealthIssueList">
                                                <div class="card-header py-2" style="background: #f7f7f7">
                                                    <div class="row" data-card-widget="collapse">
                                                        <div class="col-md-4">
                                                            <label><b>Date : {{M.ObservedMiti}},{{M.ObservedTime |timeFormat}}</b></label>
                                                        </div>
                                                        <div class="col-md-7">
                                                            <label><b>Health Issue : {{M.HealthIssueName}}</b></label>
                                                        </div>
                                                        <div class="col-md-1">
                                                            <a href="#" class="btn btn-secondary btn-light btn-sm"
                                                               data-toggle="tooltip" data-placement="top" title="Edit" ng-click="GetHealthIssueById(M)">
                                                                <i class="fas fa-edit text-info"></i>
                                                            </a>
                                                            <a href="#" class="btn btn-secondary btn-light btn-sm" data-card-widget="collapse"
                                                               data-toggle="tooltip" data-placement="top" title="Delete" ng-click="DelHealthIssueById(M)">
                                                                <i class="fas fa-trash text-danger"></i>
                                                            </a>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="card-body">
                                                    <div class="row">
                                                        <div class="col-md-2">
                                                            <label>Is Admitted : <b>{{ (M.IsAdmitted == 1) ? 'Yes' : 'No' }}</b></label>
                                                        </div>
                                                        <div class="col-md-3">
                                                            <label>Admitted Date : <b>{{M.AdmittedMiti}}</b></label>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <label>Admitted At : <b>{{M.AdmittedAt}}</b></label>
                                                        </div>
                                                        <div class="col-md-3">
                                                            <label>Discharged Date : <b>{{M.DischargedMiti}}</b></label>
                                                        </div>

                                                        <div class="col-md-3">
                                                            <label>Medicine Given :<b>{{ (M.MedicineGiven == 1) ? 'Yes' : 'No' }}</b> </label>
                                                        </div>
                                                    </div>
                                                    <div class="table-responsive">
                                                        <div class="">
                                                            <table id="" class="table table-hover table-bordered th-fixed-top bg-white w-100">
                                                                <thead>
                                                                    <tr>
                                                                        <th style="width: 200px">Medicine Name</th>
                                                                        <th style="width: 100px">No of Dose</th>
                                                                        <th style="width: 120px">Duration(In Hrs)</th>
                                                                        <th style="width: 90px">Quantity(Unit)</th>
                                                                        <th style="width: 100px">Price</th>
                                                                        <th style="width: 100px">Amount</th>
                                                                        <th style="width: 110px">No of Days</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr>
                                                                        <td>Acetaminophen </td>
                                                                        <td>3</td>
                                                                        <td>8 Hours</td>
                                                                        <td>1 tablet</td>
                                                                        <td>120</td>
                                                                        <td>6</td>
                                                                        <td>7</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-12">
                                                        <p class="mb-0">Prescription :<b>{{M.Prescription}} </b></p>
                                                        <p>Prescribed By :<b>{{M.PrescribedBy}}</b> </p>
                                                    </div>
                                                    <label class="pl-2"><b>Attached Documents</b></label>
                                                    <div class="row">
                                                        <div class="col-md-1">
                                                            <a href="~/wwwroot/dynamic/images/pdf.jpg" target="_blank">  <img src="~/wwwroot/dynamic/images/pdf.jpg" style="max-height:55px" /></a>
                                                        </div>
                                                        <div class="col-md-1">
                                                            <a href="~/wwwroot/dynamic/images/pdf.jpg" target="_blank">  <img src="~/wwwroot/dynamic/images/pdf.jpg" style="max-height:55px" /></a>
                                                        </div>
                                                        <div class="col-md-1">
                                                            <a href="~/wwwroot/dynamic/images/pdf.jpg" target="_blank">  <img src="~/wwwroot/dynamic/images/pdf.jpg" style="max-height:55px" /></a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                                                                       
                                        </div>

                                        <div id="healthissueform">
                                            <div class="card" style="border:1px solid #ccc">
                                                <div class="card-header py-2" style="background: #f7f7f7">
                                                    <h6 class="mb-0">Medical Description</h6>
                                                </div>
                                                <div class="card-body">
                                                    <div class="row">
                                                        <div class="col-md-3">
                                                            <div class="form-group">
                                                                <label>Observed On</label>
                                                                <input type="text" class="form-control form-control-sm" date-picker ng-model="newHealthIssues.ObservedDate_TMP" date-detail="newHealthIssues.ObservedDateDet">
                                                            </div>
                                                        </div>
                                                        <div class="col-md-3">
                                                            <div class="form-group">
                                                                <label>Time</label>
                                                                <input type="time" class="form-control form-control-sm" ng-model="newHealthIssues.ObservedTime_TMP" />
                                                            </div>
                                                        </div>

                                                        <div class="col-md-2">
                                                            <div class="form-group">
                                                                <label>Observed At</label>
                                                                <select class="form-control form-control-sm select2" ng-model="newHealthIssues.ObservedAt">
                                                                    <option ng-repeat="A in ObservedAtList" ng-value="A.id" ng-selected="newHealthIssues.ObservedAt==A.id">{{A.text}}</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="form-group">
                                                                <label>Health Issue/Disease</label>
                                                                <select class="form-control form-control-sm select2" @*multiple*@ ng-model="newHealthIssues.HealthIssueId">
                                                                    <option ng-repeat="H in HealthIssuelist" ng-value="H.HealthIssueId" ng-selected="newHealthIssues.HealthIssueId==H.HealthIssueId">{{H.Name}}</option>
                                                                </select>
                                                               
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>

                                            <div class="card" style="border:1px solid #ccc">
                                                <div class="card-header py-2" style="background: #f7f7f7">
                                                    <h6 class="mb-0">Prescription</h6>
                                                </div>
                                                <div class="card-body">
                                                    <div class="row">
                                                        <div class="col-md-2">
                                                            <div class="mt-2">
                                                                <label class="checkbox-wrap">
                                                                    Is Admitted ?
                                                                    <input type="checkbox" id="hostelFac" ng-model="newHealthIssues.IsAdmitted" />
                                                                    <span class="checkmark"></span>
                                                                </label>
                                                            </div>
                                                        </div>

                                                        <div class="col-md-2" ng-show="newHealthIssues.IsAdmitted==true">
                                                            <div class="form-group">
                                                                <label>Admitted Date</label>
                                                                <input type="text" class="form-control form-control-sm" date-picker ng-model="newHealthIssues.AdmittedDate_TMP" date-detail="newHealthIssues.AdmittedDateDet">
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4" ng-show="newHealthIssues.IsAdmitted==true">
                                                            <div class="form-group">
                                                                <label>Admitted At (Hospital/Clinic Name)</label>
                                                                <input type="text" class="form-control form-control-sm" ng-model="newHealthIssues.AdmittedAt"/>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-2" ng-show="newHealthIssues.IsAdmitted==true">
                                                            <div class="form-group">
                                                                <label>Discharged Date</label>
                                                                <input type="text" class="form-control form-control-sm" date-picker ng-model="newHealthIssues.DischargedDate_TMP" date-detail="newHealthIssues.DischargedDateDet">
                                                            </div>
                                                        </div>

                                                        <div class="col-md-2">
                                                            <div class="form-group">
                                                                <label>Medicine Given?</label>
                                                                <div class="d-flex">
                                                                    <div class="form-check">
                                                                        <label class="form-check-label">
                                                                            <input type="radio"
                                                                                   class="form-check-input"
                                                                                   name="optradio" ng-value="true" ng-model="newHealthIssues.MedicineGiven" />Yes
                                                                        </label>
                                                                    </div>
                                                                    <div class="form-check ml-3">
                                                                        <label class="form-check-label">
                                                                            <input type="radio"
                                                                                   class="form-check-input"
                                                                                   name="optradio" ng-value="false" ng-model="newHealthIssues.MedicineGiven" />No
                                                                        </label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="table-responsive" ng-show="newHealthIssues.MedicineGiven==true">
                                                        <div class="">
                                                            <table id="" class="table table-hover table-bordered th-fixed-top bg-white w-100">
                                                                <thead>
                                                                    <tr>
                                                                        <th style="width: 200px">Medicine Name</th>
                                                                        <th style="width: 100px">No of Dose</th>
                                                                        <th style="width: 120px">Duration (In Hrs)</th>
                                                                        <th style="width: 100px">No of Days</th>
                                                                        <th style="width: 100px">Quantity (Unit)</th>
                                                                        <th style="width: 100px">Price</th>
                                                                        <th style="width: 100px">Amount</th>
                                                                        <th style="width: 80px">Action</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr ng-repeat="mDet in newHealthIssues.StudentMedicineGivenDetColl">
                                                                        <td>
                                                                            <select class="form-control form-control-sm select2" ng-model="mDet.MedicineId">
                                                                                <option ng-value="M.ProductId" ng-repeat="M in MedicalProductlist" ng-selected="mDet.MedicineId==M.ProductId">{{M.Name}}</option>
                                                                            </select>
                                                                        </td>
                                                                        <td><input type="text" class="form-control form-control-sm" ng-model="mDet.NoOfDose"></td>
                                                                        <td><input type="text" class="form-control form-control-sm" ng-model="mDet.Duration"></td>
                                                                        <td><input type="text" class="form-control form-control-sm" ng-model="mDet.NoOfDays"></td>
                                                                        <td><input type="text" class="form-control form-control-sm" ng-model="mDet.Qty"></td>
                                                                        <td><input type="text" class="form-control form-control-sm" ng-model="mDet.Price"></td>
                                                                        <td><input type="text" class="form-control form-control-sm" ng-model="mDet.Amount"></td>
                                                                        <td>
                                                                            <a class="p-1" ng-click="AddMedicineDetails($index)">
                                                                                <i class="fas fa-plus text-secondary"></i>
                                                                            </a>
                                                                            <a class="p-1" ng-click="delMedicineDetails($index)">
                                                                                <i class="fas fa-trash-alt text-danger"></i>
                                                                            </a>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="col-md-8">
                                                            <div class="form-group">
                                                                <label>Prescription</label>
                                                                <textarea class="form-control form-control-sm" rows="1" ng-model="newHealthIssues.Prescription"></textarea>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="form-group">
                                                                <label>Prescribed By</label>
                                                                <select class="form-control form-control-sm  select2" @*multiple*@ ng-model="newHealthIssues.PrescribedBy">
                                                                    <option ng-repeat="E in ExaminerList" ng-value="E.ExaminerId" ng-selected="newHealthIssues.PrescribedBy==E.ExaminerId">{{E.Name}}</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>


                                            <div class="card" style="border:1px solid #ccc">
                                                <div class="card-header py-2" style="background: #f7f7f7">
                                                    <h6 class="mb-0">Medical Documents (If any)</h6>
                                                </div>
                                                <div class="card-body">
                                                    <div class="pb-2 add-more-than-one-form-block">
                                                        <form class="mb-0">
                                                            <article>
                                                                <div class="row p-3">
                                                                    <div class="col-sm-2">
                                                                        <div class="form-group">
                                                                            <label>Type Of Document</label>
                                                                            <select class="form-control form-select form-control-sm select2" ng-model="docType1" style="width:100%;">
                                                                                <option ng-value="ct" ng-repeat="ct in DocumentTypeList" @*ng-selected="ct.DocumentTypeId==docType"*@>
                                                                                    {{ct.Name}}
                                                                                </option>
                                                                            </select>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-sm-10">
                                                                        <div class="row">
                                                                            <div class="col-sm-4">
                                                                                <div class="form-group">
                                                                                    <label>Attach Document</label>
                                                                                    <div class="form-group">
                                                                                        <input type="file" id="flMoreFiles1" class="form-control-file form-control form-control-sm border bg-white" file-model ng-model="attachFile1">
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-6">
                                                                                <div class="form-group">
                                                                                    <label>Description</label>
                                                                                    <input type="text" class="form-control form-control-sm" ng-model="docDescription1" placeholder="">
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-sm-2">
                                                                                <div class="d-flex">
                                                                                    <div>
                                                                                        <label class="invisible d-block">for height</label>
                                                                                        <button type="button" class="btn btn-sm btn-outline-secondary light-btn" ng-click="AddMoreHIssuesFiles(attachFile1,docType1,docDescription1)"><i class="fas fa-plus"></i> Add More</button>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </article>
                                                        </form>
                                                    </div>
                                                    <div class="p-2 pb-0">
                                                        <div class="table-responsive">
                                                            <table class="table table-hover border bg-white">
                                                                <thead>
                                                                    <tr>
                                                                        <th scope="col" style="width: 20px">SN.</th>
                                                                        <th scope="col" style="width: 40%">Document Type</th>
                                                                        <th scope="col">File Name</th>
                                                                        <th scope="col">Description</th>
                                                                        <th scope="col" style="width: 130px">Action</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr ng-repeat="ac in newHealthIssues.HealthIssueAttachmentColl">
                                                                        <th scope="row">{{$index+1}}</th>
                                                                        <td>{{ac.DocumentTypeName}}</td>
                                                                        <td>{{ac.Name}}</td>
                                                                        <td>{{ac.Description}}</td>
                                                                        <td>
                                                                            <div>
                                                                                <a class="p-1" href="#" data-toggle="tooltip" data-placement="top" title="" ng-click="ShowPersonalImg(ac)" data-original-title="View doc">
                                                                                    <i class="fas fa-eye text-secondary"></i>
                                                                                </a>
                                                                                <a ng-hide="ac.DocPath1==null" class="p-1" href="{{ac.DocPath1}}" download="" data-toggle="tooltip" data-placement="top" title="" data-original-title="Download doc.">
                                                                                    <i class="fas fa-download  text-info"></i>
                                                                                </a>
                                                                                <a class="p-1" data-toggle="tooltip" data-placement="top" title="" data-original-title="Delete doc." ng-click="delHIAttachmentDoc($index)">
                                                                                    <i class="fas fa-trash-alt text-danger"></i>
                                                                                </a>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="time-label mt-3">
                                                <span class="d-block border-0 p-3 text-center">
                                                    <button type="button"
                                                            class="btn btn-sm btn-info"
                                                            id="back-issue-list"
                                                            style="min-width: 90px">
                                                        Back to List
                                                    </button>
                                                    <button type="button" class="btn btn-sm btn-default" style="min-width: 90px;" ng-click="ClearHealthIssue()">Reset</button>
                                                    <button type="button" class="btn btn-sm btn-success" style="min-width: 90px;" ng-click="CallSaveUpdateHealthIssues()">{{newHealthIssues.Mode}}</button>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--BMI Starts-->
                                <div class="tab-pane fade" id="vert-tabs-bmi" role="tabpanel" aria-labelledby="vert-tabs-bmi-tab">
                                    <div class="card p-2">
                                        <div class="card p-2">
                                            <div id="bmilist">
                                                <header class="row">
                                                    <div class="col-md-7">
                                                        <div class="clearfix">
                                                            <form class="form-inline">
                                                                <div class="input-group input-group-sm mr-sm-2">
                                                                    <div class="input-group-prepend">
                                                                        <span class="input-group-text cstm">Show</span>
                                                                    </div>
                                                                    <!-- <input type="text" class="form-control border-left-0" placeholder=""> -->
                                                                    <select class="form-control border-left-0 border-right-0 pr-0" ng-model="perPage.GeneralCheckup">
                                                                        <option ng-value="pp.value" ng-repeat="pp in perPageColl" ng-selected="pp.value==perPage.GeneralCheckup">{{pp.text}}</option>
                                                                    </select>
                                                                    <div class="input-group-append">
                                                                        <span class="input-group-text bg-white"><small>entries</small></span>
                                                                    </div>
                                                                </div>
                                                                <div class="input-group input-group-sm table-search-filed">
                                                                    <input class="form-control form-control-navbar"
                                                                           type="search" placeholder="Search" ng-model="searchData.GeneralCheckup"
                                                                           aria-label="Search">
                                                                    <div class="input-group-append">
                                                                        <button class="btn btn-default border-left-0"
                                                                                type="submit">
                                                                            <i class="fas fa-search"></i>
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </form>
                                                        </div>
                                                    </div>
                                                    <!-- end col-md-8 -->
                                                    <div class="col-md-5 text-right">
                                                        <div class="dropdown dnld-file" data-toggle="tooltip"
                                                             data-placement="top" title="Download File">
                                                            <button class="btn btn-secondary btn-light btn-sm dropdown-toggle" type="button"
                                                                    id="dropdownMenuButton" data-toggle="dropdown"
                                                                    aria-haspopup="true" aria-expanded="false">
                                                                <i class="fas fa-download"></i>
                                                            </button>
                                                            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                                <span class="dropdown-item">Choose an option:</span>
                                                                <a class="dropdown-item wait"><img src="~/wwwroot/dynamic/images/flaticons/excel.png" class="img-fluid exports-icon" alt="Excel image"> Excel</a>
                                                                <a class="dropdown-item wait" onClick="$('#GeneralCheckup').tableExport({type:'csv',escape:'false'});"><img src="~/wwwroot/dynamic/images/flaticons/csv.png" class="img-fluid exports-icon" alt="Excel image"> CSV</a>
                                                               
                                                            </div>
                                                        </div>
                                                        <a href="#" class="btn btn-secondary btn-light btn-sm"
                                                           data-toggle="tooltip" data-placement="top" title="Print">
                                                            <i class="fas fa-print"></i>
                                                        </a>

                                                        <button type="button"
                                                                class="btn btn-sm btn-success"
                                                                id="add-bmi-btn"
                                                                style="min-width: 90px">
                                                            <i class="fas fa-plus w-t"></i> Add General CheckUp
                                                        </button>
                                                    </div>
                                                </header>
                                                <div>
                                                    <div class="table-scroll-x-y sales-main-table table-scroll">
                                                        <table id="Bmi" class="main-table table table-sm table-bordered bg-white">
                                                            <thead>
                                                                <tr>
                                                                    <th style="width:7%">S.No.</th>
                                                                    <th>Date</th>
                                                                    <th>Height (Feet/Inch)</th>
                                                                    <th>Weight (kgs)</th>
                                                                    <th>VisionL</th>
                                                                    <th>VisionR</th>
                                                                    <th style="width:25%">Dental Hygiene</th>
                                                                    <th style="width:9%">Action</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr>
                                                                    <td>1</td>
                                                                    <td>Baishakh 1</td>
                                                                    <td>200cm</td>
                                                                    <td>40kg</td>
                                                                    <td></td>
                                                                    <td></td>
                                                                    <td>Lorem Ipsum Set amet dolor contor</td>
                                                                    <td>
                                                                        <a class="p-1" href="#" ng-click="GetBmiById(cl)">
                                                                            <i class="fas fa-edit text-info"></i>
                                                                        </a>
                                                                        <a class="p-1" href="#" ng-click="DelBmiById(cl)">
                                                                            <i class="fas fa-trash-alt text-danger"></i>
                                                                        </a>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                        <!-- table end -->
                                                    </div>
                                                </div>
                                                <footer class="row align-items-center">
                                                    <div class="col-md-12">
                                                        <dir-pagination-controls pagination-id="GeneralCheckupPagination" boundary-links="true" on-page-change="pageChangeHandler(newPageNumber)"></dir-pagination-controls>
                                                    </div>
                                                </footer>
                                            </div>

                                            <div id="Bmiform">
                                                <div class="row">
                                                    <div class="col-md-2">
                                                        <div class="form-group">
                                                            <label>Date</label>
                                                            <input type="text" class="form-control form-control-sm" date-picker ng-model="NewGCheckup.CheckupDate" date-detail="NewGCheckup.CheckupDateDet">
                                                        </div>
                                                    </div>
                                                    <div class="col-md-10">
                                                        <div class="form-group">
                                                            <label>Remarks</label>
                                                            <textarea class="form-control form-control-sm" rows="1" ng-model="NewGCheckup.Remarks"></textarea>
                                                        </div>
                                                    </div>

                                                </div>
                                                <div class="table-scroll-x-y sales-main-table table-scroll">
                                                    <table class="main-table table table-sm table-bordered bg-white">
                                                        <thead>
                                                            <tr>
                                                                <th class="text-center" style="width: 120px;z-index:2" ng-repeat="Ph in TestNameList">
                                                                    {{Ph.Name}}
                                                                </th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td class="text-center" ng-repeat="Ph in TestNameList">
                                                                    <input type="number" class="form-control form-control-sm text-right" ng-model="Ph.Value" />
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                    <!-- table end -->
                                                </div>
                                                <div class="time-label mt-3">
                                                    <span class="d-block border-0 p-3 text-center">
                                                        <button type="button"
                                                                class="btn btn-sm btn-info"
                                                                id="back-bmi-list"
                                                                style="min-width: 90px">
                                                            Back to List
                                                        </button>
                                                        <button type="button" class="btn btn-sm btn-default" style="min-width: 90px;" ng-click="ClearBmi()">Reset</button>
                                                        <button type="button" class="btn btn-sm btn-success" style="min-width: 90px;" ng-click="SaveGeneralCheckup()">@*{{newBmi.Mode}}*@Save</button>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--Health Immunization Tab Content Starts-->
                                <div class="tab-pane fade" id="vert-tabs-immunization" role="tabpanel" aria-labelledby="vert-tabs-immunization-tab">
                                    <div class="card p-2">
                                        <div id="immunizationlist">
                                            <header class="row">
                                                <div class="col-md-7">
                                                    <div class="clearfix">
                                                        <form class="form-inline">
                                                            <div class="input-group input-group-sm mr-sm-2">
                                                                <div class="input-group-prepend">
                                                                    <span class="input-group-text cstm">Show</span>
                                                                </div>
                                                                <!-- <input type="text" class="form-control border-left-0" placeholder=""> -->
                                                                <select class="form-control border-left-0 border-right-0 pr-0" ng-model="perPage.HealthImmunization">
                                                                    <option ng-value="pp.value" ng-repeat="pp in perPageColl" ng-selected="pp.value==perPage.HealthImmunization">{{pp.text}}</option>
                                                                </select>
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text bg-white"><small>entries</small></span>
                                                                </div>
                                                            </div>
                                                            <div class="input-group input-group-sm table-search-filed">
                                                                <input class="form-control form-control-navbar"
                                                                       type="search" placeholder="Search" ng-model="searchData.HealthImmunization"
                                                                       aria-label="Search">
                                                                <div class="input-group-append">
                                                                    <button class="btn btn-default border-left-0"
                                                                            type="submit">
                                                                        <i class="fas fa-search"></i>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                                <!-- end col-md-8 -->
                                                <div class="col-md-5 text-right">
                                                    <div class="dropdown dnld-file" data-toggle="tooltip"
                                                         data-placement="top" title="Download File">
                                                        <button class="btn btn-secondary btn-light btn-sm dropdown-toggle" type="button"
                                                                id="dropdownMenuButton" data-toggle="dropdown"
                                                                aria-haspopup="true" aria-expanded="false">
                                                            <i class="fas fa-download"></i>
                                                        </button>
                                                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                            <span class="dropdown-item">Choose an option:</span>
                                                            <a class="dropdown-item wait"><img src="~/wwwroot/dynamic/images/flaticons/excel.png" class="img-fluid exports-icon" alt="Excel image"> Excel</a>
                                                            <a class="dropdown-item wait" onClick="$('#HealthImmunization').tableExport({type:'csv',escape:'false'});"><img src="~/wwwroot/dynamic/images/flaticons/csv.png" class="img-fluid exports-icon" alt="Excel image"> CSV</a>                                                           
                                                        </div>
                                                    </div>
                                                    <a href="#" class="btn btn-secondary btn-light btn-sm"
                                                       data-toggle="tooltip" data-placement="top" title="Print">
                                                        <i class="fas fa-print"></i>
                                                    </a>

                                                    <button type="button"
                                                            class="btn btn-sm btn-success"
                                                            id="add-immunization-btn"
                                                            style="min-width: 90px">
                                                        <i class="fas fa-plus w-t"></i> Add Health Immunization
                                                    </button>
                                                </div>
                                            </header>
                                            <div>
                                                <div class="table-scroll-x-y sales-main-table table-scroll">
                                                    <table id="HealthImmunization" class="main-table table table-sm table-bordered bg-white">
                                                        <thead>
                                                            <tr>
                                                                <th style="width:7%">S.No.</th>
                                                                <th style="width:20%">Health Immunization Name</th>
                                                                <th>VaccineType</th>
                                                                <th style="width:15%">Vaccination Date</th>
                                                                <th style="width:25%">Remarks</th>
                                                                <th style="width:9%">Attachment</th>
                                                                <th style="width:9%">Action</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr dir-paginate="cl in StudentImmunizationList | filter:searchData.Immunization | itemsPerPage: perPage.Immunization" current-page="currentPages.Immunization" pagination-id="ImmunizationPagination">
                                                                <td>{{$index+1}}</td>
                                                                <td>{{cl.HealthIssueName}}</td>
                                                                <td>{{cl.VaccineName}}</td>
                                                                <td>{{cl.VaccineMiti}}</td>
                                                                <td>{{cl.Remarks}}</td>
                                                                <td class="text-center">
                                                                    <i class="fas fa-file-pdf text-success" style="font-size:20px"></i>
                                                                </td>
                                                                <td>
                                                                    <a class="p-1" href="#" ng-click="GetImmunizationById(cl)">
                                                                        <i class="fas fa-edit text-info"></i>
                                                                    </a>
                                                                    <a class="p-1" href="#" ng-click="DelImmunizationById(cl)">
                                                                        <i class="fas fa-trash-alt text-danger"></i>
                                                                    </a>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                    <!-- table end -->
                                                </div>
                                            </div>
                                            <footer class="row align-items-center">
                                                <div class="col-md-12">
                                                    <dir-pagination-controls pagination-id="ImmunizationPagination" boundary-links="true" on-page-change="pageChangeHandler(newPageNumber)"></dir-pagination-controls>
                                                </div>
                                            </footer>
                                        </div>

                                        <div id="immunizationform">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label>Health Issue/Disease</label>
                                                        <select class="form-control form-control-sm select2" ng-model="newImmunization.HealthIssueId">
                                                            <option ng-repeat="I in HealthIssuelist" ng-value="I.HealthIssueId" ng-selected="newImmunization.HealthIssueId==I.HealthIssueId">{{I.Name}}</option>
                                                        </select>
                                                    </div>
                                                </div>

                                                <div class="col-md-3">
                                                    <div class="form-group">
                                                        <label>Vaccine Type (Brand Name)</label>
                                                        <select class="form-control form-control-sm select2" ng-model="newImmunization.VaccineId">
                                                            <option ng-repeat="V in VaccineList" ng-value="V.VaccineId" ng-selected="newImmunization.VaccineId==V.VaccineId">{{V.Name}}</option>
                                                        </select>
                                                    </div>
                                                </div>

                                                <div class="col-md-3">
                                                    <div class="form-group">
                                                        <label>Vaccination Date</label>
                                                        <input type="text" class="form-control form-control-sm" date-picker ng-model="newImmunization.VaccinationDate_TMP" date-detail="newImmunization.VaccinationDateDet">
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label>Remarks</label>
                                                        <textarea class="form-control form-control-sm" rows="1" ng-model="newImmunization.Remarks"></textarea>
                                                    </div>
                                                </div>
                                                <div class="col-md-3">
                                                    <div class="form-group">
                                                        <label>Vaccinator</label>
                                                        <select class="form-control form-control-sm select2" ng-model="newImmunization.VaccinatorId">
                                                            <option ng-repeat="E in ExaminerList" ng-value="E.ExaminerId" ng-selected="newImmunization.VaccinatorId==E.ExaminerId">{{E.Name}}</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- timeline time label -->
                                            <div class="my-1">
                                                <label style="font-weight: bold; font-size: 15px;">Medical Document (If Any)</label>
                                            </div>
                                            <!-- /.timeline-label -->
                                            <div>
                                                <div class="timeline-item">
                                                    <div class="pb-2 add-more-than-one-form-block">
                                                        <form class="mb-0">
                                                            <article>
                                                                <div class="row p-3">
                                                                    <div class="col-sm-2">
                                                                        <div class="form-group">
                                                                            <label>Type Of Document</label>
                                                                            <select class="form-control form-select form-control-sm select2" ng-model="docType2" style="width:100%;">
                                                                                <option ng-value="ct" ng-repeat="ct in DocumentTypeList" @*ng-selected="ct.DocumentTypeId==docType"*@>
                                                                                    {{ct.Name}}
                                                                                </option>
                                                                            </select>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-sm-10">
                                                                        <div class="row">
                                                                            <div class="col-sm-4">
                                                                                <div class="form-group">
                                                                                    <label>Attach Document</label>
                                                                                    <div class="form-group">
                                                                                        <input type="file" id="flMoreFiles2" class="form-control-file form-control form-control-sm border bg-white" file-model ng-model="attachFile2">
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-6">
                                                                                <div class="form-group">
                                                                                    <label>Description</label>
                                                                                    <input type="text" class="form-control form-control-sm" ng-model="docDescription2" placeholder="">
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-sm-2">
                                                                                <div class="d-flex">
                                                                                    <div>
                                                                                        <label class="invisible d-block">for height</label>
                                                                                        <button type="button" class="btn btn-sm btn-outline-secondary light-btn" ng-click="AddMoreImmunizationFiles(attachFile2,docType2,docDescription2)"><i class="fas fa-plus"></i> Add More</button>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </article>
                                                        </form>
                                                    </div>
                                                    <div class="p-2 pb-0">
                                                        <div class="table-responsive">
                                                            <table class="table table-hover border bg-white">
                                                                <thead>
                                                                    <tr>
                                                                        <th scope="col" style="width: 20px">SN.</th>
                                                                        <th scope="col" style="width: 40%">Document Type</th>
                                                                        <th scope="col">File Name</th>
                                                                        <th scope="col">Description</th>
                                                                        <th scope="col" style="width: 130px">Action</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr ng-repeat="ac in newImmunization.StudentImmunizationAttachmentColl">
                                                                        <th scope="row">{{$index+1}}</th>
                                                                        <td>{{(DocumentTypeList | findById:'DocumentTypeId':ac.DocumentTypeId).Name}}</td>
                                                                        <td>{{ac.Name}}</td>
                                                                        <td>{{ac.Description}}</td>
                                                                        <td>
                                                                            <div>
                                                                                <a class="p-1" href="#" data-toggle="tooltip" data-placement="top" title="" ng-click="ShowPersonalImg(ac)" data-original-title="View doc">
                                                                                    <i class="fas fa-eye text-secondary"></i>
                                                                                </a>
                                                                                <a ng-hide="ac.DocPath1==null" class="p-1" href="{{ac.DocPath1}}" download="" data-toggle="tooltip" data-placement="top" title="" data-original-title="Download doc.">
                                                                                    <i class="fas fa-download  text-info"></i>
                                                                                </a>
                                                                                <a class="p-1" data-toggle="tooltip" data-placement="top" title="" data-original-title="Delete doc." ng-click="delSIAttachmentDoc($index)">
                                                                                    <i class="fas fa-trash-alt text-danger"></i>
                                                                                </a>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="time-label mt-3">
                                                <span class="d-block border-0 p-3 text-center">
                                                    <button type="button"
                                                            class="btn btn-sm btn-info"
                                                            id="back-immunization-list"
                                                            style="min-width: 90px">
                                                        Back to List
                                                    </button>
                                                    <button type="button" class="btn btn-sm btn-default" style="min-width: 90px;" ng-click="ClearHealthImmunization()">Reset</button>
                                                    <button type="button" class="btn btn-sm btn-success" style="min-width: 90px;" ng-click="SaveUpdateStudentImmunizations()">{{newImmunization.Mode}}</button>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--Clinical Evaluation Tab Content Starts-->
                                <div class="tab-pane fade" id="vert-tabs-evaluation" role="tabpanel" aria-labelledby="vert-tabs-evaluation-tab">
                                    <div class="card p-2">
                                        <div id="evaluationlist">
                                            <div></div>
                                            <header class="row">
                                                <div class="col-md-7">
                                                    <div class="clearfix">
                                                        <form class="form-inline">
                                                            <div class="input-group input-group-sm mr-sm-2">
                                                                <div class="input-group-prepend">
                                                                    <span class="input-group-text cstm">Show</span>
                                                                </div>
                                                                <!-- <input type="text" class="form-control border-left-0" placeholder=""> -->
                                                                <select class="form-control border-left-0 border-right-0 pr-0" ng-model="perPage.ClinicalEvaluation">
                                                                    <option ng-value="pp.value" ng-repeat="pp in perPageColl" ng-selected="pp.value==perPage.ClinicalEvaluation">{{pp.text}}</option>
                                                                </select>
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text bg-white"><small>entries</small></span>
                                                                </div>
                                                            </div>
                                                            <div class="input-group input-group-sm table-search-filed">
                                                                <input class="form-control form-control-navbar"
                                                                       type="search" placeholder="Search" ng-model="searchData.ClinicalEvaluation"
                                                                       aria-label="Search">
                                                                <div class="input-group-append">
                                                                    <button class="btn btn-default border-left-0"
                                                                            type="submit">
                                                                        <i class="fas fa-search"></i>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                                <!-- end col-md-8 -->
                                                <div class="col-md-5 text-right">
                                                    <div class="dropdown dnld-file" data-toggle="tooltip"
                                                         data-placement="top" title="Download File">
                                                        <button class="btn btn-secondary btn-light btn-sm dropdown-toggle" type="button"
                                                                id="dropdownMenuButton" data-toggle="dropdown"
                                                                aria-haspopup="true" aria-expanded="false">
                                                            <i class="fas fa-download"></i>
                                                        </button>
                                                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                                            <span class="dropdown-item">Choose an option:</span>
                                                            <a class="dropdown-item wait"><img src="~/wwwroot/dynamic/images/flaticons/excel.png" class="img-fluid exports-icon" alt="Excel image"> Excel</a>
                                                            <a class="dropdown-item wait" onClick="$('#ClinicalEvaluation').tableExport({type:'csv',escape:'false'});"><img src="~/wwwroot/dynamic/images/flaticons/csv.png" class="img-fluid exports-icon" alt="Excel image"> CSV</a>
                                                           
                                                        </div>
                                                    </div>
                                                    <a href="#" class="btn btn-secondary btn-light btn-sm"
                                                       data-toggle="tooltip" data-placement="top" title="Print">
                                                        <i class="fas fa-print"></i>
                                                    </a>

                                                    <button type="button"
                                                            class="btn btn-sm btn-success"
                                                            id="add-clinical-btn"
                                                            style="min-width: 90px">
                                                        <i class="fas fa-plus w-t"></i> Add Clinical Evaluation
                                                    </button>
                                                </div>
                                            </header>
                                            <div>
                                                <div class="table-scroll-x-y sales-main-table table-scroll">
                                                    <table id="main-table" class="main-table table table-sm table-bordered bg-white">
                                                        <thead>
                                                            <tr>
                                                                <th style="width:60px">S.No.</th>
                                                                <th style="width:100px">Date</th>
                                                                <th style="width:120px">Test Name</th>
                                                                <th style="width:120px">Test Method</th>
                                                                <th style="width:300px">Remarks</th>
                                                                <th style="width:70px">Action</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr dir-paginate="cl in StudentLabEvaluationList | filter:searchData.ClinicalEvaluation | itemsPerPage: perPage.ClinicalEvaluation" current-page="currentPages.ClinicalEvaluation" pagination-id="ClinicalEvaluationPagination">
                                                                <td>{{$index+1}}</td>
                                                                <td>{{cl.EvaluateMiti}}</td>
                                                                <td>{{cl.TestName}}</td>
                                                                <td>{{cl.TestMethod}}</td>
                                                                <td>{{cl.Remarks}}</td>
                                                                <td>
                                                                    <a class="p-1" href="#">
                                                                        <i class="fas fa-print text-primary"></i>
                                                                    </a>
                                                                    <a class="p-1" href="#" ng-click="GetStudentLabEvaluationById(cl)">
                                                                        <i class="fas fa-edit text-info"></i>
                                                                    </a>
                                                                    <a class="p-1" href="#" ng-click="DelStudentEvaluationById(cl)">
                                                                        <i class="fas fa-trash-alt text-danger"></i>
                                                                    </a>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                    <!-- table end -->
                                                </div>
                                            </div>
                                            <footer class="row align-items-center">
                                                <div class="col-md-12">
                                                    <dir-pagination-controls pagination-id="ClinicalEvaluationPagination" boundary-links="true" on-page-change="pageChangeHandler(newPageNumber)"></dir-pagination-controls>
                                                </div>
                                            </footer>
                                        </div>

                                        <div id="clinicalevaluationform">
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <div class="form-group">
                                                        <label>Date</label>
                                                        <input type="text" class="form-control form-control-sm" date-picker ng-model="newLabEvaluation.EvaluateDate_TMP" date-detail="newLabEvaluation.EvaluateDateDet">
                                                    </div>
                                                </div>
                                                <div class="col-md-3">
                                                    <div class="form-group">
                                                        <label>Test Name</label>
                                                        <select class="form-control form-control-sm select2" ng-model="newLabEvaluation.TestNameId"  ng-change="GetTestNameById()">
                                                            <option  ng-repeat="T in TestNameList" ng-value="T.TestNameId" ng-selected="newLabEvaluation.TestNameId==T.TestNameId">{{T.Name}}</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="col-md-3">
                                                    <div class="form-group">
                                                        <label>Test Method</label>
                                                        <input type="text" class="form-control form-control-sm" ng-model="newLabEvaluation.TestMethod"/>
                                                    </div>
                                                </div>
                                                <div class="col-md-3">
                                                    <div class="form-group">
                                                        <label>Disease/Health Issue</label>
                                                        <select class="form-control form-control-sm select2" ng-model="newLabEvaluation.HealthIssueId">
                                                            <option ng-repeat="D in HealthIssuelist" ng-value="D.HealthIssueId" ng-selected="newLabEvaluation.HealthIssueId==D.HealthIssueId">{{D.Name}}</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <label><b>Lab Value Parameters</b></label>
                                            <div class="table-scroll-x-y sales-main-table table-scroll mb-3">
                                                <table id="main-table" class="main-table table table-sm table-bordered bg-white">
                                                    <thead>
                                                        <tr>
                                                            <th style="width:50px">S.No.</th>
                                                            <th style="width:250px">Name</th>
                                                            <th style="width:150px">Result</th>
                                                            <th class="text-center" style="width:110px">Noraml Range</th>
                                                            <th class="text-center" style="width:110px">Lower Range</th>
                                                            <th class="text-center" style="width:110px">Upper Range</th>
                                                            <th style="width:250px">Remarks</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat="L in newLabEvaluation.LabValueList">
                                                            <td>{{$index+1}}</td>
                                                            <td>{{L.Name}}</td>
                                                            <td><input type="text" class="form-control form-control-sm" ng-model="L.Result"/></td>
                                                            <td class="text-center">{{L.NormalRange}}</td>
                                                            <td class="text-center">{{L.LowerRange}}</td>
                                                            <td class="text-center">{{L.UpperRange}}</td>
                                                            <td> <textarea class="form-control form-control-sm" rows="1" ng-model="L.Remarks"></textarea></td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                                <!-- table end -->
                                            </div>
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="form-group">
                                                        <label>Remarks</label>
                                                        <textarea class="form-control form-control-sm" rows="1" ng-model="newLabEvaluation.Remarks"></textarea>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="time-label mt-3">
                                                <span class="d-block border-0 p-3 text-center">
                                                    <button type="button"
                                                            class="btn btn-sm btn-info"
                                                            id="back-clinical-list"
                                                            style="min-width: 90px">
                                                        Back to List
                                                    </button>
                                                    <button type="button" class="btn btn-sm btn-default" style="min-width: 90px;" ng-click="ClearSCLEvaluation()">Reset</button>
                                                    <button type="button" class="btn btn-sm btn-success" style="min-width: 90px;" ng-click="SaveUpdateSCLEvaluation()">{{newLabEvaluation.Mode}}</button>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </section>
</div>
@*<script>
    $('.collapse').collapse()
</script>*@
